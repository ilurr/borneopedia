function ce(e){return document.createElement(e)}function gi(e){return document.getElementById(e)}function gc(e,t){return t.querySelectorAll(e)[0]}function gca(e){return document.querySelectorAll(e)}function insertAfter(e,t){e.parentNode.insertBefore(t,e.nextSibling)}var tns=function(){var e=window,t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)},i=window,n=i.cancelAnimationFrame||i.mozCancelAnimationFrame||function(e){clearTimeout(e)};function r(){for(var e,t,i,n=arguments[0]||{},r=1,o=arguments.length;r<o;r++)if(null!==(e=arguments[r]))for(t in e)n!==(i=e[t])&&void 0!==i&&(n[t]=i);return n}function o(e){return["true","false"].indexOf(e)>=0?JSON.parse(e):e}function a(e,t,i,n){if(n)try{e.setItem(t,i)}catch(e){}return i}function s(){var e=document,t=e.body;return t||((t=e.createElement("body")).fake=!0),t}var l=document.documentElement;function u(e){var t="";return e.fake&&(t=l.style.overflow,e.style.background="",e.style.overflow=l.style.overflow="hidden",l.appendChild(e)),t}function c(e,t){e.fake&&(e.remove(),l.style.overflow=t,l.offsetHeight)}function h(e,t,i,n){"insertRule"in e?e.insertRule(t+"{"+i+"}",n):e.addRule(t,i,n)}function d(e){return("insertRule"in e?e.cssRules:e.rules).length}function f(e,t,i){for(var n=0,r=e.length;n<r;n++)t.call(i,e[n],n)}var p="classList"in document.createElement("_"),v=p?function(e,t){return e.classList.contains(t)}:function(e,t){return e.className.indexOf(t)>=0},m=p?function(e,t){v(e,t)||e.classList.add(t)}:function(e,t){v(e,t)||(e.className+=" "+t)},g=p?function(e,t){v(e,t)&&e.classList.remove(t)}:function(e,t){v(e,t)&&(e.className=e.className.replace(t,""))};function y(e,t){return e.hasAttribute(t)}function b(e,t){return e.getAttribute(t)}function w(e){return void 0!==e.item}function T(e,t){if(e=w(e)||e instanceof Array?e:[e],"[object Object]"===Object.prototype.toString.call(t))for(var i=e.length;i--;)for(var n in t)e[i].setAttribute(n,t[n])}function D(e,t){e=w(e)||e instanceof Array?e:[e];for(var i=(t=t instanceof Array?t:[t]).length,n=e.length;n--;)for(var r=i;r--;)e[n].removeAttribute(t[r])}function C(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(e[i]);return t}function k(e,t){"none"!==e.style.display&&(e.style.display="none")}function x(e,t){"none"===e.style.display&&(e.style.display="")}function M(e){return"none"!==window.getComputedStyle(e).display}function S(e){if("string"==typeof e){var t=[e],i=e.charAt(0).toUpperCase()+e.substr(1);["Webkit","Moz","ms","O"].forEach((function(n){"ms"===n&&"transform"!==e||t.push(n+i)})),e=t}for(var n=document.createElement("fakeelement"),r=(e.length,0);r<e.length;r++){var o=e[r];if(void 0!==n.style[o])return o}return!1}function E(e,t){var i=!1;return/^Webkit/.test(e)?i="webkit"+t+"End":/^O/.test(e)?i="o"+t+"End":e&&(i=t.toLowerCase()+"end"),i}var _=!1;try{var A=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,A)}catch(e){}var N=!!_&&{passive:!0};function I(e,t,i){for(var n in t){var r=["touchstart","touchmove"].indexOf(n)>=0&&!i&&N;e.addEventListener(n,t[n],r)}}function O(e,t){for(var i in t){var n=["touchstart","touchmove"].indexOf(i)>=0&&N;e.removeEventListener(i,t[i],n)}}function L(){return{topics:{},on:function(e,t){this.topics[e]=this.topics[e]||[],this.topics[e].push(t)},off:function(e,t){if(this.topics[e])for(var i=0;i<this.topics[e].length;i++)if(this.topics[e][i]===t){this.topics[e].splice(i,1);break}},emit:function(e,t){t.type=e,this.topics[e]&&this.topics[e].forEach((function(i){i(t,e)}))}}}Object.keys||(Object.keys=function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var U=function(e){e=r({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},e||{});var i=document,l=window,p={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},w={},_=e.useLocalStorage;if(_){var A=navigator.userAgent,N=new Date;try{(w=l.localStorage)?(w.setItem(N,N),_=w.getItem(N)==N,w.removeItem(N)):_=!1,_||(w={})}catch(e){_=!1}_&&(w.tnsApp&&w.tnsApp!==A&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach((function(e){w.removeItem(e)})),localStorage.tnsApp=A)}var W=w.tC?o(w.tC):a(w,"tC",function(){var e=document,t=s(),i=u(t),n=e.createElement("div"),r=!1;t.appendChild(n);try{for(var o,a="(10px * 10)",l=["calc"+a,"-moz-calc"+a,"-webkit-calc"+a],h=0;h<3;h++)if(o=l[h],n.style.width=o,100===n.offsetWidth){r=o.replace(a,"");break}}catch(e){}return t.fake?c(t,i):n.remove(),r}(),_),F=w.tPL?o(w.tPL):a(w,"tPL",function(){var e,t=document,i=s(),n=u(i),r=t.createElement("div"),o=t.createElement("div"),a="";r.className="tns-t-subp2",o.className="tns-t-ct";for(var l=0;l<70;l++)a+="<div></div>";return o.innerHTML=a,r.appendChild(o),i.appendChild(r),e=Math.abs(r.getBoundingClientRect().left-o.children[67].getBoundingClientRect().left)<2,i.fake?c(i,n):r.remove(),e}(),_),H=w.tMQ?o(w.tMQ):a(w,"tMQ",function(){if(window.matchMedia||window.msMatchMedia)return!0;var e,t=document,i=s(),n=u(i),r=t.createElement("div"),o=t.createElement("style"),a="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return o.type="text/css",r.className="tns-mq-test",i.appendChild(o),i.appendChild(r),o.styleSheet?o.styleSheet.cssText=a:o.appendChild(t.createTextNode(a)),e=window.getComputedStyle?window.getComputedStyle(r).position:r.currentStyle.position,i.fake?c(i,n):r.remove(),"absolute"===e}(),_),P=w.tTf?o(w.tTf):a(w,"tTf",S("transform"),_),z=w.t3D?o(w.t3D):a(w,"t3D",function(e){if(!e)return!1;if(!window.getComputedStyle)return!1;var t,i=document,n=s(),r=u(n),o=i.createElement("p"),a=e.length>9?"-"+e.slice(0,-9).toLowerCase()+"-":"";return a+="transform",n.insertBefore(o,null),o.style[e]="translate3d(1px,1px,1px)",t=window.getComputedStyle(o).getPropertyValue(a),n.fake?c(n,r):o.remove(),void 0!==t&&t.length>0&&"none"!==t}(P),_),R=w.tTDu?o(w.tTDu):a(w,"tTDu",S("transitionDuration"),_),V=w.tTDe?o(w.tTDe):a(w,"tTDe",S("transitionDelay"),_),B=w.tADu?o(w.tADu):a(w,"tADu",S("animationDuration"),_),Y=w.tADe?o(w.tADe):a(w,"tADe",S("animationDelay"),_),j=w.tTE?o(w.tTE):a(w,"tTE",E(R,"Transition"),_),q=w.tAE?o(w.tAE):a(w,"tAE",E(B,"Animation"),_),X=l.console&&"function"==typeof l.console.warn,K=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],Q={};if(K.forEach((function(t){if("string"==typeof e[t]){var n=e[t],r=i.querySelector(n);if(Q[t]=n,!r||!r.nodeName)return void(X&&console.warn("Can't find",e[t]));e[t]=r}})),!(e.container.children.length<1)){var $=e.responsive,J=e.nested,G="carousel"===e.mode;if($){0 in $&&(e=r(e,$[0]),delete $[0]);var Z={};for(var ee in $){var te=$[ee];te="number"==typeof te?{items:te}:te,Z[ee]=te}$=Z,Z=null}if(G||function e(t){for(var i in t)G||("slideBy"===i&&(t[i]="page"),"edgePadding"===i&&(t[i]=!1),"autoHeight"===i&&(t[i]=!1)),"responsive"===i&&e(t[i])}(e),!G){e.axis="horizontal",e.slideBy="page",e.edgePadding=!1;var ie=e.animateIn,ne=e.animateOut,re=e.animateDelay,oe=e.animateNormal}var ae,se,le="horizontal"===e.axis,ue=i.createElement("div"),ce=i.createElement("div"),he=e.container,de=he.parentNode,fe=he.outerHTML,pe=he.children,ve=pe.length,me=Ni(),ge=!1;$&&Ji(),G&&(he.className+=" tns-vpfix");var ye,be,we,Te,De,Ce,ke,xe,Me,Se=e.autoWidth,Ee=Ui("fixedWidth"),_e=Ui("edgePadding"),Ae=Ui("gutter"),Ne=Oi(),Ie=Ui("center"),Oe=Se?1:Math.floor(Ui("items")),Le=Ui("slideBy"),Ue=e.viewportMax||e.fixedWidthViewportWidth,We=Ui("arrowKeys"),Fe=Ui("speed"),He=e.rewind,Pe=!He&&e.loop,ze=Ui("autoHeight"),Re=Ui("controls"),Ve=Ui("controlsText"),Be=Ui("nav"),Ye=Ui("touch"),je=Ui("mouseDrag"),qe=Ui("autoplay"),Xe=Ui("autoplayTimeout"),Ke=Ui("autoplayText"),Qe=Ui("autoplayHoverPause"),$e=Ui("autoplayResetOnVisibility"),Je=(ke=null,xe=Ui("nonce"),Me=document.createElement("style"),ke&&Me.setAttribute("media",ke),xe&&Me.setAttribute("nonce",xe),document.querySelector("head").appendChild(Me),Me.sheet?Me.sheet:Me.styleSheet),Ge=e.lazyload,Ze=e.lazyloadSelector,et=[],tt=Pe?(De=function(){if(Se||Ee&&!Ue)return ve-1;var t=Ee?"fixedWidth":"items",i=[];if((Ee||e[t]<ve)&&i.push(e[t]),$)for(var n in $){var r=$[n][t];r&&(Ee||r<ve)&&i.push(r)}return i.length||i.push(0),Math.ceil(Ee?Ue/Math.min.apply(null,i):Math.max.apply(null,i))}(),Ce=G?Math.ceil((5*De-ve)/2):4*De-ve,Ce=Math.max(De,Ce),Li("edgePadding")?Ce+1:Ce):0,it=G?ve+2*tt:ve+tt,nt=!(!Ee&&!Se||Pe),rt=Ee?kn():null,ot=!G||!Pe,at=le?"left":"top",st="",lt="",ut=Ee?function(){return Ie&&!Pe?ve-1:Math.ceil(-rt/(Ee+Ae))}:Se?function(){for(var e=0;e<it;e++)if(ye[e]>=-rt)return e}:function(){return Ie&&G&&!Pe?ve-1:Pe||G?Math.max(0,it-Math.ceil(Oe)):it-1},ct=Ei(Ui("startIndex")),ht=ct,dt=(Si(),0),ft=Se?null:ut(),pt=e.preventActionWhenRunning,vt=e.swipeAngle,mt=!vt||"?",gt=!1,yt=e.onInit,bt=new L,wt=" tns-slider tns-"+e.mode,Tt=he.id||(Te=window.tnsId,window.tnsId=Te?Te+1:1,"tns"+window.tnsId),Dt=Ui("disable"),Ct=!1,kt=e.freezable,xt=!(!kt||Se)&&$i(),Mt=!1,St={click:On,keydown:function(e){e=Rn(e);var t=[p.LEFT,p.RIGHT].indexOf(e.keyCode);t>=0&&(0===t?Kt.disabled||On(e,-1):Qt.disabled||On(e,1))}},Et={click:function(e){if(gt){if(pt)return;Nn()}var t=Vn(e=Rn(e));for(;t!==Zt&&!y(t,"data-nav");)t=t.parentNode;if(y(t,"data-nav")){var i=ni=Number(b(t,"data-nav")),n=Ee||Se?i*ve/ti:i*Oe;In(Wt?i:Math.min(Math.ceil(n),ve-1),e),ri===i&&(ci&&Hn(),ni=-1)}},keydown:function(e){e=Rn(e);var t=i.activeElement;if(!y(t,"data-nav"))return;var n=[p.LEFT,p.RIGHT,p.ENTER,p.SPACE].indexOf(e.keyCode),r=Number(b(t,"data-nav"));n>=0&&(0===n?r>0&&zn(Gt[r-1]):1===n?r<ti-1&&zn(Gt[r+1]):(ni=r,In(r,e)))}},_t={mouseover:function(){ci&&(Un(),hi=!0)},mouseout:function(){hi&&(Ln(),hi=!1)}},At={visibilitychange:function(){i.hidden?ci&&(Un(),fi=!0):fi&&(Ln(),fi=!1)}},Nt={keydown:function(e){e=Rn(e);var t=[p.LEFT,p.RIGHT].indexOf(e.keyCode);t>=0&&On(e,0===t?-1:1)}},It={touchstart:qn,touchmove:Xn,touchend:Kn,touchcancel:Kn},Ot={mousedown:qn,mousemove:Xn,mouseup:Kn,mouseleave:Kn},Lt=Li("controls"),Ut=Li("nav"),Wt=!!Se||e.navAsThumbnails,Ft=Li("autoplay"),Ht=Li("touch"),Pt=Li("mouseDrag"),zt="tns-slide-active",Rt="tns-complete",Vt={load:function(e){sn(Vn(e))},error:function(e){t=Vn(e),m(t,"failed"),ln(t);var t}},Bt="force"===e.preventScrollOnTouch;if(Lt)var Yt,jt,qt=e.controlsContainer,Xt=e.controlsContainer?e.controlsContainer.outerHTML:"",Kt=e.prevButton,Qt=e.nextButton,$t=e.prevButton?e.prevButton.outerHTML:"",Jt=e.nextButton?e.nextButton.outerHTML:"";if(Ut)var Gt,Zt=e.navContainer,ei=e.navContainer?e.navContainer.outerHTML:"",ti=Se?ve:$n(),ii=0,ni=-1,ri=Ai(),oi=ri,ai="tns-nav-active",si="Carousel Page ",li=" (Current Slide)";if(Ft)var ui,ci,hi,di,fi,pi="forward"===e.autoplayDirection?1:-1,vi=e.autoplayButton,mi=e.autoplayButton?e.autoplayButton.outerHTML:"",gi=["<span class='tns-visually-hidden'>"," animation</span>"];if(Ht||Pt)var yi,bi,wi={},Ti={},Di=!1,Ci=le?function(e,t){return e.x-t.x}:function(e,t){return e.y-t.y};Se||Mi(Dt||xt),P&&(at=P,st="translate",z?(st+=le?"3d(":"3d(0px, ",lt=le?", 0px, 0px)":", 0px)"):(st+=le?"X(":"Y(",lt=")")),G&&(he.className=he.className.replace("tns-vpfix","")),function(){Li("gutter");ue.className="tns-outer",ce.className="tns-inner",ue.id=Tt+"-ow",ce.id=Tt+"-iw",""===he.id&&(he.id=Tt);wt+=F||Se?" tns-subpixel":" tns-no-subpixel",wt+=W?" tns-calc":" tns-no-calc",Se&&(wt+=" tns-autowidth");wt+=" tns-"+e.axis,he.className+=wt,G?((ae=i.createElement("div")).id=Tt+"-mw",ae.className="tns-ovh",ue.appendChild(ae),ae.appendChild(ce)):ue.appendChild(ce);if(ze){(ae||ce).className+=" tns-ah"}if(de.insertBefore(ue,he),ce.appendChild(he),f(pe,(function(e,t){m(e,"tns-item"),e.id||(e.id=Tt+"-item"+t),!G&&oe&&m(e,oe),T(e,{"aria-hidden":"true",tabindex:"-1"})})),tt){for(var t=i.createDocumentFragment(),n=i.createDocumentFragment(),r=tt;r--;){var o=r%ve,a=pe[o].cloneNode(!0);if(m(a,"tns-slide-cloned"),D(a,"id"),n.insertBefore(a,n.firstChild),G){var s=pe[ve-1-o].cloneNode(!0);m(s,"tns-slide-cloned"),D(s,"id"),t.appendChild(s)}}he.insertBefore(t,he.firstChild),he.appendChild(n),pe=he.children}}(),function(){if(!G)for(var t=ct,i=ct+Math.min(ve,Oe);t<i;t++){var n=pe[t];n.style.left=100*(t-ct)/Oe+"%",m(n,ie),g(n,oe)}le&&(F||Se?(h(Je,"#"+Tt+" > .tns-item","font-size:"+l.getComputedStyle(pe[0]).fontSize+";",d(Je)),h(Je,"#"+Tt,"font-size:0;",d(Je))):G&&f(pe,(function(e,t){e.style.marginLeft=function(e){return W?W+"("+100*e+"% / "+it+")":100*e/it+"%"}(t)})));if(H){if(R){var r=ae&&e.autoHeight?Ri(e.speed):"";h(Je,"#"+Tt+"-mw",r,d(Je))}r=Wi(e.edgePadding,e.gutter,e.fixedWidth,e.speed,e.autoHeight),h(Je,"#"+Tt+"-iw",r,d(Je)),G&&(r=le&&!Se?"width:"+Fi(e.fixedWidth,e.gutter,e.items)+";":"",R&&(r+=Ri(Fe)),h(Je,"#"+Tt,r,d(Je))),r=le&&!Se?Hi(e.fixedWidth,e.gutter,e.items):"",e.gutter&&(r+=Pi(e.gutter)),G||(R&&(r+=Ri(Fe)),B&&(r+=Vi(Fe))),r&&h(Je,"#"+Tt+" > .tns-item",r,d(Je))}else{G&&ze&&(ae.style[R]=Fe/1e3+"s"),ce.style.cssText=Wi(_e,Ae,Ee,ze),G&&le&&!Se&&(he.style.width=Fi(Ee,Ae,Oe));r=le&&!Se?Hi(Ee,Ae,Oe):"";Ae&&(r+=Pi(Ae)),r&&h(Je,"#"+Tt+" > .tns-item",r,d(Je))}if($&&H)for(var o in $){o=parseInt(o);var a=$[o],s=(r="",""),u="",c="",p="",v=Se?null:Ui("items",o),y=Ui("fixedWidth",o),b=Ui("speed",o),w=Ui("edgePadding",o),T=Ui("autoHeight",o),D=Ui("gutter",o);R&&ae&&Ui("autoHeight",o)&&"speed"in a&&(s="#"+Tt+"-mw{"+Ri(b)+"}"),("edgePadding"in a||"gutter"in a)&&(u="#"+Tt+"-iw{"+Wi(w,D,y,b,T)+"}"),G&&le&&!Se&&("fixedWidth"in a||"items"in a||Ee&&"gutter"in a)&&(c="width:"+Fi(y,D,v)+";"),R&&"speed"in a&&(c+=Ri(b)),c&&(c="#"+Tt+"{"+c+"}"),("fixedWidth"in a||Ee&&"gutter"in a||!G&&"items"in a)&&(p+=Hi(y,D,v)),"gutter"in a&&(p+=Pi(D)),!G&&"speed"in a&&(R&&(p+=Ri(b)),B&&(p+=Vi(b))),p&&(p="#"+Tt+" > .tns-item{"+p+"}"),(r=s+u+c+p)&&Je.insertRule("@media (min-width: "+o/16+"em) {"+r+"}",Je.cssRules.length)}}(),Bi();var ki=Pe?G?function(){var e=dt,t=ft;e+=Le,t-=Le,_e?(e+=1,t-=1):Ee&&(Ne+Ae)%(Ee+Ae)&&(t-=1),tt&&(ct>t?ct-=ve:ct<e&&(ct+=ve))}:function(){if(ct>ft)for(;ct>=dt+ve;)ct-=ve;else if(ct<dt)for(;ct<=ft-ve;)ct+=ve}:function(){ct=Math.max(dt,Math.min(ft,ct))},xi=G?function(){var e,t,i,n,r,o,a,s,l,u,c;Dn(he,""),R||!Fe?(Sn(),Fe&&M(he)||Nn()):(e=he,t=at,i=st,n=lt,r=xn(),o=Fe,a=Nn,s=Math.min(o,10),l=r.indexOf("%")>=0?"%":"px",r=r.replace(l,""),u=Number(e.style[t].replace(i,"").replace(n,"").replace(l,"")),c=(r-u)/o*s,setTimeout((function r(){o-=s,u+=c,e.style[t]=i+u+l+n,o>0?setTimeout(r,s):a()}),s)),le||Qn()}:function(){et=[];var e={};e[j]=e[q]=Nn,O(pe[ht],e),I(pe[ct],e),En(ht,ie,ne,!0),En(ct,oe,ie),j&&q&&Fe&&M(he)||Nn()};return{version:"2.9.3",getInfo:Gn,events:bt,goTo:In,play:function(){qe&&!ci&&(Fn(),di=!1)},pause:function(){ci&&(Hn(),di=!0)},isOn:ge,updateSliderHeight:pn,refresh:Bi,destroy:function(){if(Je.disabled=!0,Je.ownerNode&&Je.ownerNode.remove(),O(l,{resize:Ki}),We&&O(i,Nt),qt&&O(qt,St),Zt&&O(Zt,Et),O(he,_t),O(he,At),vi&&O(vi,{click:Pn}),qe&&clearInterval(ui),G&&j){var t={};t[j]=Nn,O(he,t)}Ye&&O(he,It),je&&O(he,Ot);var n=[fe,Xt,$t,Jt,ei,mi];for(var r in K.forEach((function(t,i){var r="container"===t?ue:e[t];if("object"==typeof r&&r){var o=!!r.previousElementSibling&&r.previousElementSibling,a=r.parentNode;r.outerHTML=n[i],e[t]=o?o.nextElementSibling:a.firstElementChild}})),K=ie=ne=re=oe=le=ue=ce=he=de=fe=pe=ve=se=me=Se=Ee=_e=Ae=Ne=Oe=Le=Ue=We=Fe=He=Pe=ze=Je=Ge=ye=et=tt=it=nt=rt=ot=at=st=lt=ut=ct=ht=dt=ft=vt=mt=gt=yt=bt=wt=Tt=Dt=Ct=kt=xt=Mt=St=Et=_t=At=Nt=It=Ot=Lt=Ut=Wt=Ft=Ht=Pt=zt=Rt=Vt=be=Re=Ve=qt=Xt=Kt=Qt=Yt=jt=Be=Zt=ei=Gt=ti=ii=ni=ri=oi=ai=si=li=qe=Xe=pi=Ke=Qe=vi=mi=$e=gi=ui=ci=hi=di=fi=wi=Ti=yi=Di=bi=Ci=Ye=je=null,this)"rebuild"!==r&&(this[r]=null);ge=!1},rebuild:function(){return U(r(e,Q))}}}function Mi(e){e&&(Re=Be=Ye=je=We=qe=Qe=$e=!1)}function Si(){for(var e=G?ct-tt:ct;e<0;)e+=ve;return e%ve+1}function Ei(e){return e=e?Math.max(0,Math.min(Pe?ve-1:ve-Oe,e)):0,G?e+tt:e}function _i(e){for(null==e&&(e=ct),G&&(e-=tt);e<0;)e+=ve;return Math.floor(e%ve)}function Ai(){var e,t=_i();return e=Wt?t:Ee||Se?Math.ceil((t+1)*ti/ve-1):Math.floor(t/Oe),!Pe&&G&&ct===ft&&(e=ti-1),e}function Ni(){return l.innerWidth||i.documentElement.clientWidth||i.body.clientWidth}function Ii(e){return"top"===e?"afterbegin":"beforeend"}function Oi(){var e=_e?2*_e-Ae:0;return function e(t){if(null!=t){var n,r,o=i.createElement("div");return t.appendChild(o),r=(n=o.getBoundingClientRect()).right-n.left,o.remove(),r||e(t.parentNode)}}(de)-e}function Li(t){if(e[t])return!0;if($)for(var i in $)if($[i][t])return!0;return!1}function Ui(t,i){if(null==i&&(i=me),"items"===t&&Ee)return Math.floor((Ne+Ae)/(Ee+Ae))||1;var n=e[t];if($)for(var r in $)i>=parseInt(r)&&t in $[r]&&(n=$[r][t]);return"slideBy"===t&&"page"===n&&(n=Ui("items")),G||"slideBy"!==t&&"items"!==t||(n=Math.floor(n)),n}function Wi(e,t,i,n,r){var o="";if(void 0!==e){var a=e;t&&(a-=t),o=le?"margin: 0 "+a+"px 0 "+e+"px;":"margin: "+e+"px 0 "+a+"px 0;"}else if(t&&!i){var s="-"+t+"px";o="margin: 0 "+(le?s+" 0 0":"0 "+s+" 0")+";"}return!G&&r&&R&&n&&(o+=Ri(n)),o}function Fi(e,t,i){return e?(e+t)*it+"px":W?W+"("+100*it+"% / "+i+")":100*it/i+"%"}function Hi(e,t,i){var n;if(e)n=e+t+"px";else{G||(i=Math.floor(i));var r=G?it:i;n=W?W+"(100% / "+r+")":100/r+"%"}return n="width:"+n,"inner"!==J?n+";":n+" !important;"}function Pi(e){var t="";!1!==e&&(t=(le?"padding-":"margin-")+(le?"right":"bottom")+": "+e+"px;");return t}function zi(e,t){var i=e.substring(0,e.length-t).toLowerCase();return i&&(i="-"+i+"-"),i}function Ri(e){return zi(R,18)+"transition-duration:"+e/1e3+"s;"}function Vi(e){return zi(B,17)+"animation-duration:"+e/1e3+"s;"}function Bi(){if(Li("autoHeight")||Se||!le){var e=he.querySelectorAll("img");f(e,(function(e){var t=e.src;Ge||(t&&t.indexOf("data:image")<0?(e.src="",I(e,Vt),m(e,"loading"),e.src=t):sn(e))})),t((function(){hn(C(e),(function(){be=!0}))})),Li("autoHeight")&&(e=un(ct,Math.min(ct+Oe-1,it-1))),Ge?Yi():t((function(){hn(C(e),Yi)}))}else G&&Mn(),qi(),Xi()}function Yi(){if(Se&&ve>1){var e=Pe?ct:ve-1;!function t(){var i=pe[e].getBoundingClientRect().left,n=pe[e-1].getBoundingClientRect().right;Math.abs(i-n)<=1?ji():setTimeout((function(){t()}),16)}()}else ji()}function ji(){le&&!Se||(vn(),Se?(rt=kn(),kt&&(xt=$i()),ft=ut(),Mi(Dt||xt)):Qn()),G&&Mn(),qi(),Xi()}function qi(){if(mn(),ue.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+rn()+"</span>  of "+ve+"</div>"),we=ue.querySelector(".tns-liveregion .current"),Ft){var t=qe?"stop":"start";vi?T(vi,{"data-action":t}):e.autoplayButtonOutput&&(ue.insertAdjacentHTML(Ii(e.autoplayPosition),'<button type="button" data-action="'+t+'">'+gi[0]+t+gi[1]+Ke[0]+"</button>"),vi=ue.querySelector("[data-action]")),vi&&I(vi,{click:Pn}),qe&&(Fn(),Qe&&I(he,_t),$e&&I(he,At))}if(Ut){if(Zt)T(Zt,{"aria-label":"Carousel Pagination"}),f(Gt=Zt.children,(function(e,t){T(e,{"data-nav":t,tabindex:"-1","aria-label":si+(t+1),"aria-controls":Tt})}));else{for(var i="",n=Wt?"":'style="display:none"',r=0;r<ve;r++)i+='<button type="button" data-nav="'+r+'" tabindex="-1" aria-controls="'+Tt+'" '+n+' aria-label="'+si+(r+1)+'"></button>';i='<div class="tns-nav" aria-label="Carousel Pagination">'+i+"</div>",ue.insertAdjacentHTML(Ii(e.navPosition),i),Zt=ue.querySelector(".tns-nav"),Gt=Zt.children}if(Jn(),R){var o=R.substring(0,R.length-18).toLowerCase(),a="transition: all "+Fe/1e3+"s";o&&(a="-"+o+"-"+a),h(Je,"[aria-controls^="+Tt+"-item]",a,d(Je))}T(Gt[ri],{"aria-label":si+(ri+1)+li}),D(Gt[ri],"tabindex"),m(Gt[ri],ai),I(Zt,Et)}Lt&&(qt||Kt&&Qt||(ue.insertAdjacentHTML(Ii(e.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+Tt+'">'+Ve[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+Tt+'">'+Ve[1]+"</button></div>"),qt=ue.querySelector(".tns-controls")),Kt&&Qt||(Kt=qt.children[0],Qt=qt.children[1]),e.controlsContainer&&T(qt,{"aria-label":"Carousel Navigation",tabindex:"0"}),(e.controlsContainer||e.prevButton&&e.nextButton)&&T([Kt,Qt],{"aria-controls":Tt,tabindex:"-1"}),(e.controlsContainer||e.prevButton&&e.nextButton)&&(T(Kt,{"data-controls":"prev"}),T(Qt,{"data-controls":"next"})),Yt=yn(Kt),jt=yn(Qt),Tn(),qt?I(qt,St):(I(Kt,St),I(Qt,St))),Gi()}function Xi(){if(G&&j){var t={};t[j]=Nn,I(he,t)}Ye&&I(he,It,e.preventScrollOnTouch),je&&I(he,Ot),We&&I(i,Nt),"inner"===J?bt.on("outerResized",(function(){Qi(),bt.emit("innerLoaded",Gn())})):($||Ee||Se||ze||!le)&&I(l,{resize:Ki}),ze&&("outer"===J?bt.on("innerLoaded",cn):Dt||cn()),an(),Dt?tn():xt&&en(),bt.on("indexChanged",dn),"inner"===J&&bt.emit("innerLoaded",Gn()),"function"==typeof yt&&yt(Gn()),ge=!0}function Ki(e){t((function(){Qi(Rn(e))}))}function Qi(t){if(ge){"outer"===J&&bt.emit("outerResized",Gn(t)),me=Ni();var n,r=se,o=!1;$&&(Ji(),(n=r!==se)&&bt.emit("newBreakpointStart",Gn(t)));var a,s,l=Oe,u=Dt,c=xt,p=We,v=Re,y=Be,b=Ye,w=je,T=qe,D=Qe,C=$e,M=ct;if(n){var S=Ee,E=ze,_=Ve,A=Ie,N=Ke;if(!H)var L=Ae,U=_e}if(We=Ui("arrowKeys"),Re=Ui("controls"),Be=Ui("nav"),Ye=Ui("touch"),Ie=Ui("center"),je=Ui("mouseDrag"),qe=Ui("autoplay"),Qe=Ui("autoplayHoverPause"),$e=Ui("autoplayResetOnVisibility"),n&&(Dt=Ui("disable"),Ee=Ui("fixedWidth"),Fe=Ui("speed"),ze=Ui("autoHeight"),Ve=Ui("controlsText"),Ke=Ui("autoplayText"),Xe=Ui("autoplayTimeout"),H||(_e=Ui("edgePadding"),Ae=Ui("gutter"))),Mi(Dt),Ne=Oi(),le&&!Se||Dt||(vn(),le||(Qn(),o=!0)),(Ee||Se)&&(rt=kn(),ft=ut()),(n||Ee)&&(Oe=Ui("items"),Le=Ui("slideBy"),(s=Oe!==l)&&(Ee||Se||(ft=ut()),ki())),n&&Dt!==u&&(Dt?tn():function(){if(!Ct)return;if(Je.disabled=!1,he.className+=wt,Mn(),Pe)for(var e=tt;e--;)G&&x(pe[e]),x(pe[it-e-1]);if(!G)for(var t=ct,i=ct+ve;t<i;t++){var n=pe[t],r=t<ct+Oe?ie:oe;n.style.left=100*(t-ct)/Oe+"%",m(n,r)}Zi(),Ct=!1}()),kt&&(n||Ee||Se)&&(xt=$i())!==c&&(xt?(Sn(xn(Ei(0))),en()):(!function(){if(!Mt)return;_e&&H&&(ce.style.margin="");if(tt)for(var e="tns-transparent",t=tt;t--;)G&&g(pe[t],e),g(pe[it-t-1],e);Zi(),Mt=!1}(),o=!0)),Mi(Dt||xt),qe||(Qe=$e=!1),We!==p&&(We?I(i,Nt):O(i,Nt)),Re!==v&&(Re?qt?x(qt):(Kt&&x(Kt),Qt&&x(Qt)):qt?k(qt):(Kt&&k(Kt),Qt&&k(Qt))),Be!==y&&(Be?(x(Zt),Jn()):k(Zt)),Ye!==b&&(Ye?I(he,It,e.preventScrollOnTouch):O(he,It)),je!==w&&(je?I(he,Ot):O(he,Ot)),qe!==T&&(qe?(vi&&x(vi),ci||di||Fn()):(vi&&k(vi),ci&&Hn())),Qe!==D&&(Qe?I(he,_t):O(he,_t)),$e!==C&&($e?I(i,At):O(i,At)),n){if(Ee===S&&Ie===A||(o=!0),ze!==E&&(ze||(ce.style.height="")),Re&&Ve!==_&&(Kt.innerHTML=Ve[0],Qt.innerHTML=Ve[1]),vi&&Ke!==N){var W=qe?1:0,F=vi.innerHTML,P=F.length-N[W].length;F.substring(P)===N[W]&&(vi.innerHTML=F.substring(0,P)+Ke[W])}}else Ie&&(Ee||Se)&&(o=!0);if((s||Ee&&!Se)&&(ti=$n(),Jn()),(a=ct!==M)?(bt.emit("indexChanged",Gn()),o=!0):s?a||dn():(Ee||Se)&&(an(),mn(),nn()),s&&!G&&function(){for(var e=ct+Math.min(ve,Oe),t=it;t--;){var i=pe[t];t>=ct&&t<e?(m(i,"tns-moving"),i.style.left=100*(t-ct)/Oe+"%",m(i,ie),g(i,oe)):i.style.left&&(i.style.left="",m(i,oe),g(i,ie)),g(i,ne)}setTimeout((function(){f(pe,(function(e){g(e,"tns-moving")}))}),300)}(),!Dt&&!xt){if(n&&!H&&(_e===U&&Ae===L||(ce.style.cssText=Wi(_e,Ae,Ee,Fe,ze)),le)){G&&(he.style.width=Fi(Ee,Ae,Oe));var z=Hi(Ee,Ae,Oe)+Pi(Ae);!function(e,t){"deleteRule"in e?e.deleteRule(t):e.removeRule(t)}(Je,d(Je)-1),h(Je,"#"+Tt+" > .tns-item",z,d(Je))}ze&&cn(),o&&(Mn(),ht=ct)}n&&bt.emit("newBreakpointEnd",Gn(t))}}function $i(){if(!Ee&&!Se)return ve<=(Ie?Oe-(Oe-1)/2:Oe);var e=Ee?(Ee+Ae)*ve:ye[ve],t=_e?Ne+2*_e:Ne+Ae;return Ie&&(t-=Ee?(Ne-Ee)/2:(Ne-(ye[ct+1]-ye[ct]-Ae))/2),e<=t}function Ji(){for(var e in se=0,$)e=parseInt(e),me>=e&&(se=e)}function Gi(){!qe&&vi&&k(vi),!Be&&Zt&&k(Zt),Re||(qt?k(qt):(Kt&&k(Kt),Qt&&k(Qt)))}function Zi(){qe&&vi&&x(vi),Be&&Zt&&x(Zt),Re&&(qt?x(qt):(Kt&&x(Kt),Qt&&x(Qt)))}function en(){if(!Mt){if(_e&&(ce.style.margin="0px"),tt)for(var e="tns-transparent",t=tt;t--;)G&&m(pe[t],e),m(pe[it-t-1],e);Gi(),Mt=!0}}function tn(){if(!Ct){if(Je.disabled=!0,he.className=he.className.replace(wt.substring(1),""),D(he,["style"]),Pe)for(var e=tt;e--;)G&&k(pe[e]),k(pe[it-e-1]);if(le&&G||D(ce,["style"]),!G)for(var t=ct,i=ct+ve;t<i;t++){var n=pe[t];D(n,["style"]),g(n,ie),g(n,oe)}Gi(),Ct=!0}}function nn(){var e=rn();we.innerHTML!==e&&(we.innerHTML=e)}function rn(){var e=on(),t=e[0]+1,i=e[1]+1;return t===i?t+"":t+" to "+i}function on(e){null==e&&(e=xn());var t,i,n,r=ct;if(Ie||_e?(Se||Ee)&&(i=-(parseFloat(e)+_e),n=i+Ne+2*_e):Se&&(i=ye[ct],n=i+Ne),Se)ye.forEach((function(e,o){o<it&&((Ie||_e)&&e<=i+.5&&(r=o),n-e>=.5&&(t=o))}));else{if(Ee){var o=Ee+Ae;Ie||_e?(r=Math.floor(i/o),t=Math.ceil(n/o-1)):t=r+Math.ceil(Ne/o)-1}else if(Ie||_e){var a=Oe-1;if(Ie?(r-=a/2,t=ct+a/2):t=ct+a,_e){var s=_e*Oe/Ne;r-=s,t+=s}r=Math.floor(r),t=Math.ceil(t)}else t=r+Oe-1;r=Math.max(r,0),t=Math.min(t,it-1)}return[r,t]}function an(){if(Ge&&!Dt){var e=on();e.push(Ze),un.apply(null,e).forEach((function(e){if(!v(e,Rt)){var t={};t[j]=function(e){e.stopPropagation()},I(e,t),I(e,Vt),e.src=b(e,"data-src");var i=b(e,"data-srcset");i&&(e.srcset=i),m(e,"loading")}}))}}function sn(e){m(e,"loaded"),ln(e)}function ln(e){m(e,Rt),g(e,"loading"),O(e,Vt)}function un(e,t,i){var n=[];for(i||(i="img");e<=t;)f(pe[e].querySelectorAll(i),(function(e){n.push(e)})),e++;return n}function cn(){var e=un.apply(null,on());t((function(){hn(e,pn)}))}function hn(e,i){return be?i():(e.forEach((function(t,i){!Ge&&t.complete&&ln(t),v(t,Rt)&&e.splice(i,1)})),e.length?void t((function(){hn(e,i)})):i())}function dn(){an(),mn(),nn(),Tn(),function(){if(Be&&(ri=ni>=0?ni:Ai(),ni=-1,ri!==oi)){var e=Gt[oi],t=Gt[ri];T(e,{tabindex:"-1","aria-label":si+(oi+1)}),g(e,ai),T(t,{"aria-label":si+(ri+1)+li}),D(t,"tabindex"),m(t,ai),oi=ri}}()}function fn(e,t){for(var i=[],n=e,r=Math.min(e+t,it);n<r;n++)i.push(pe[n].offsetHeight);return Math.max.apply(null,i)}function pn(){var e=ze?fn(ct,Oe):fn(tt,ve),t=ae||ce;t.style.height!==e&&(t.style.height=e+"px")}function vn(){ye=[0];var e=le?"left":"top",t=le?"right":"bottom",i=pe[0].getBoundingClientRect()[e];f(pe,(function(n,r){r&&ye.push(n.getBoundingClientRect()[e]-i),r===it-1&&ye.push(n.getBoundingClientRect()[t]-i)}))}function mn(){var e=on(),t=e[0],i=e[1];f(pe,(function(e,n){n>=t&&n<=i?y(e,"aria-hidden")&&(D(e,["aria-hidden","tabindex"]),m(e,zt)):y(e,"aria-hidden")||(T(e,{"aria-hidden":"true",tabindex:"-1"}),g(e,zt))}))}function gn(e){return e.nodeName.toLowerCase()}function yn(e){return"button"===gn(e)}function bn(e){return"true"===e.getAttribute("aria-disabled")}function wn(e,t,i){e?t.disabled=i:t.setAttribute("aria-disabled",i.toString())}function Tn(){if(Re&&!He&&!Pe){var e=Yt?Kt.disabled:bn(Kt),t=jt?Qt.disabled:bn(Qt),i=ct<=dt,n=!He&&ct>=ft;i&&!e&&wn(Yt,Kt,!0),!i&&e&&wn(Yt,Kt,!1),n&&!t&&wn(jt,Qt,!0),!n&&t&&wn(jt,Qt,!1)}}function Dn(e,t){R&&(e.style[R]=t)}function Cn(e){return null==e&&(e=ct),Se?(Ne-(_e?Ae:0)-(ye[e+1]-ye[e]-Ae))/2:Ee?(Ne-Ee)/2:(Oe-1)/2}function kn(){var e=Ne+(_e?Ae:0)-(Ee?(Ee+Ae)*it:ye[it]);return Ie&&!Pe&&(e=Ee?-(Ee+Ae)*(it-1)-Cn():Cn(it-1)-ye[it-1]),e>0&&(e=0),e}function xn(e){var t;if(null==e&&(e=ct),le&&!Se)if(Ee)t=-(Ee+Ae)*e,Ie&&(t+=Cn());else{var i=P?it:Oe;Ie&&(e-=Cn()),t=100*-e/i}else t=-ye[e],Ie&&Se&&(t+=Cn());return nt&&(t=Math.max(t,rt)),t+=!le||Se||Ee?"px":"%"}function Mn(e){Dn(he,"0s"),Sn(e)}function Sn(e){null==e&&(e=xn()),he.style[at]=st+e+lt}function En(e,t,i,n){var r=e+Oe;Pe||(r=Math.min(r,it));for(var o=e;o<r;o++){var a=pe[o];n||(a.style.left=100*(o-ct)/Oe+"%"),re&&V&&(a.style[V]=a.style[Y]=re*(o-e)/1e3+"s"),g(a,t),m(a,i),n&&et.push(a)}}function _n(e,t){ot&&ki(),(ct!==ht||t)&&(bt.emit("indexChanged",Gn()),bt.emit("transitionStart",Gn()),ze&&cn(),ci&&e&&["click","keydown"].indexOf(e.type)>=0&&Hn(),gt=!0,xi())}function An(e){return e.toLowerCase().replace(/-/g,"")}function Nn(e){if(G||gt){if(bt.emit("transitionEnd",Gn(e)),!G&&et.length>0)for(var t=0;t<et.length;t++){var i=et[t];i.style.left="",Y&&V&&(i.style[Y]="",i.style[V]=""),g(i,ne),m(i,oe)}if(!e||!G&&e.target.parentNode===he||e.target===he&&An(e.propertyName)===An(at)){if(!ot){var n=ct;ki(),ct!==n&&(bt.emit("indexChanged",Gn()),Mn())}"inner"===J&&bt.emit("innerLoaded",Gn()),gt=!1,ht=ct}}}function In(e,t){if(!xt)if("prev"===e)On(t,-1);else if("next"===e)On(t,1);else{if(gt){if(pt)return;Nn()}var i=_i(),n=0;if("first"===e?n=-i:"last"===e?n=G?ve-Oe-i:ve-1-i:("number"!=typeof e&&(e=parseInt(e)),isNaN(e)||(t||(e=Math.max(0,Math.min(ve-1,e))),n=e-i)),!G&&n&&Math.abs(n)<Oe){var r=n>0?1:-1;n+=ct+n-ve>=dt?ve*r:2*ve*r*-1}ct+=n,G&&Pe&&(ct<dt&&(ct+=ve),ct>ft&&(ct-=ve)),_i(ct)!==_i(ht)&&_n(t)}}function On(e,t){if(gt){if(pt)return;Nn()}var i;if(!t){for(var n=Vn(e=Rn(e));n!==qt&&[Kt,Qt].indexOf(n)<0;)n=n.parentNode;var r=[Kt,Qt].indexOf(n);r>=0&&(i=!0,t=0===r?-1:1)}if(He){if(ct===dt&&-1===t)return void In("last",e);if(ct===ft&&1===t)return void In("first",e)}t&&(ct+=Le*t,Se&&(ct=Math.floor(ct)),_n(i||e&&"keydown"===e.type?e:null))}function Ln(){ui=setInterval((function(){On(null,pi)}),Xe),ci=!0}function Un(){clearInterval(ui),ci=!1}function Wn(e,t){T(vi,{"data-action":e}),vi.innerHTML=gi[0]+e+gi[1]+t}function Fn(){Ln(),vi&&Wn("stop",Ke[1])}function Hn(){Un(),vi&&Wn("start",Ke[0])}function Pn(){ci?(Hn(),di=!0):(Fn(),di=!1)}function zn(e){e.focus()}function Rn(e){return Bn(e=e||l.event)?e.changedTouches[0]:e}function Vn(e){return e.target||l.event.srcElement}function Bn(e){return e.type.indexOf("touch")>=0}function Yn(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function jn(){return o=Ti.y-wi.y,a=Ti.x-wi.x,t=Math.atan2(o,a)*(180/Math.PI),i=vt,n=!1,(r=Math.abs(90-Math.abs(t)))>=90-i?n="horizontal":r<=i&&(n="vertical"),n===e.axis;var t,i,n,r,o,a}function qn(e){if(gt){if(pt)return;Nn()}qe&&ci&&Un(),Di=!0,bi&&(n(bi),bi=null);var t=Rn(e);bt.emit(Bn(e)?"touchStart":"dragStart",Gn(e)),!Bn(e)&&["img","a"].indexOf(gn(Vn(e)))>=0&&Yn(e),Ti.x=wi.x=t.clientX,Ti.y=wi.y=t.clientY,G&&(yi=parseFloat(he.style[at].replace(st,"")),Dn(he,"0s"))}function Xn(e){if(Di){var i=Rn(e);Ti.x=i.clientX,Ti.y=i.clientY,G?bi||(bi=t((function(){!function e(i){if(!mt)return void(Di=!1);n(bi),Di&&(bi=t((function(){e(i)})));"?"===mt&&(mt=jn());if(mt){!Bt&&Bn(i)&&(Bt=!0);try{i.type&&bt.emit(Bn(i)?"touchMove":"dragMove",Gn(i))}catch(e){}var r=yi,o=Ci(Ti,wi);if(!le||Ee||Se)r+=o,r+="px";else r+=P?o*Oe*100/((Ne+Ae)*it):100*o/(Ne+Ae),r+="%";he.style[at]=st+r+lt}}(e)}))):("?"===mt&&(mt=jn()),mt&&(Bt=!0)),("boolean"!=typeof e.cancelable||e.cancelable)&&Bt&&e.preventDefault()}}function Kn(i){if(Di){bi&&(n(bi),bi=null),G&&Dn(he,""),Di=!1;var r=Rn(i);Ti.x=r.clientX,Ti.y=r.clientY;var o=Ci(Ti,wi);if(Math.abs(o)){if(!Bn(i)){var a=Vn(i);I(a,{click:function e(t){Yn(t),O(a,{click:e})}})}G?bi=t((function(){if(le&&!Se){var e=-o*Oe/(Ne+Ae);e=o>0?Math.floor(e):Math.ceil(e),ct+=e}else{var t=-(yi+o);if(t<=0)ct=dt;else if(t>=ye[it-1])ct=ft;else for(var n=0;n<it&&t>=ye[n];)ct=n,t>ye[n]&&o<0&&(ct+=1),n++}_n(i,o),bt.emit(Bn(i)?"touchEnd":"dragEnd",Gn(i))})):mt&&On(i,o>0?-1:1)}}"auto"===e.preventScrollOnTouch&&(Bt=!1),vt&&(mt="?"),qe&&!ci&&Ln()}function Qn(){(ae||ce).style.height=ye[ct+Oe]-ye[ct]+"px"}function $n(){var e=Ee?(Ee+Ae)*ve/Ne:ve/Oe;return Math.min(Math.ceil(e),ve)}function Jn(){if(Be&&!Wt&&ti!==ii){var e=ii,t=ti,i=x;for(ii>ti&&(e=ti,t=ii,i=k);e<t;)i(Gt[e]),e++;ii=ti}}function Gn(e){return{container:he,slideItems:pe,navContainer:Zt,navItems:Gt,controlsContainer:qt,hasControls:Lt,prevButton:Kt,nextButton:Qt,items:Oe,slideBy:Le,cloneCount:tt,slideCount:ve,slideCountNew:it,index:ct,indexCached:ht,displayIndex:Si(),navCurrentIndex:ri,navCurrentIndexCached:oi,pages:ti,pagesCached:ii,sheet:Je,isOn:ge,event:e||{}}}X&&console.warn("No slides found in",e.container)};return U}();
/*!
 * Datepicker for Bootstrap v1.9.0 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}((function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function r(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(i,n){return function(){return n!==t&&e.fn.datepicker.deprecated(n),this[i].apply(this,arguments)}}function a(t,i){function n(e,t){return t.toLowerCase()}var r=e(t).data(),o={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])");for(var s in i=new RegExp("^"+i.toLowerCase()),r)i.test(s)&&(o[s.replace(a,n)]=r[s]);return o}function s(t){var i={};if(v[t]||(t=t.split("-")[0],v[t])){var n=v[t];return e.each(p,(function(e,t){t in n&&(i[t]=n[t])})),i}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-t&&this[i].valueOf()-t<864e5)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),u=function(t,i){e.data(t,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(i),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(m.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",(function(e,t){return Number(t)+1})),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};u.prototype={constructor:u,_resolveViewName:function(t){return e.each(m.viewModes,(function(i,n){if(t===i||-1!==e.inArray(t,n.names))return t=i,!1})),t},_resolveDaysOfWeek:function(t){return e.isArray(t)||(t=t.split(/[,\s]*/)),e.map(t,Number)},_check_template:function(i){try{return i!==t&&""!==i&&((i.match(/[<>]/g)||[]).length<=0||e(i).length>0)}catch(e){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var r=this.o=e.extend({},this._o),o=r.language;v[o]||(o=o.split("-")[0],v[o]||(o=f.language)),r.language=o,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),!0!==r.multidate&&(r.multidate=Number(r.multidate)||!1,!1!==r.multidate&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var a=m.parseFormat(r.format);r.startDate!==-1/0&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=m.parseDate(r.startDate,a,r.language,r.assumeNearbyYear):r.startDate=-1/0),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=m.parseDate(r.endDate,a,r.language,r.assumeNearbyYear):r.endDate=1/0),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],e.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(",")),r.datesDisabled=e.map(r.datesDisabled,(function(e){return m.parseDate(e,a,r.language,r.assumeNearbyYear)}));var s=String(r.orientation).toLowerCase().split(/\s+/g),l=r.orientation.toLowerCase();if(s=e.grep(s,(function(e){return/^auto|left|right|top|bottom$/.test(e)})),r.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===s.length)switch(s[0]){case"top":case"bottom":r.orientation.y=s[0];break;case"left":case"right":r.orientation.x=s[0]}else l=e.grep(s,(function(e){return/^left|right$/.test(e)})),r.orientation.x=l[0]||"auto",l=e.grep(s,(function(e){return/^top|bottom$/.test(e)})),r.orientation.y=l[0]||"auto";if(r.defaultViewDate instanceof Date||"string"==typeof r.defaultViewDate)r.defaultViewDate=m.parseDate(r.defaultViewDate,a,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var u=r.defaultViewDate.year||(new Date).getFullYear(),c=r.defaultViewDate.month||0,h=r.defaultViewDate.day||1;r.defaultViewDate=i(u,c,h)}else r.defaultViewDate=n()},_applyEvents:function(e){for(var i,n,r,o=0;o<e.length;o++)i=e[o][0],2===e[o].length?(n=t,r=e[o][1]):3===e[o].length&&(n=e[o][1],r=e[o][2]),i.on(r,n)},_unapplyEvents:function(e){for(var i,n,r,o=0;o<e.length;o++)i=e[o][0],2===e[o].length?(r=t,n=e[o][1]):3===e[o].length&&(r=e[o][1],n=e[o][2]),i.off(n,r)},_buildEvents:function(){var t={keyup:e.proxy((function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()}),this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy((function(e){this._focused_from=e.target}),this)}],[this.element,{blur:e.proxy((function(e){this._focused_from=e.target}),this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy((function(e){this.update(e.date)}),this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[this.picker,".prev, .next",{click:e.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:e.proxy(this.dayCellClick,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy((function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()}),this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.dates.get(-1),r=this._utc_to_local(n);this.element.trigger({type:t,date:r,viewMode:this.viewMode,dates:e.map(this.dates,this._utc_to_local),format:e.proxy((function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return m.formatDate(i,t,this.o.language)}),this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),t.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());return t.getTimezoneOffset()!==e.getTimezoneOffset()&&(t=new Date(e.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&i(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,(function(e){return new Date(e)}))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==t?new Date(e):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,e.map(t,this._utc_to_local)),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var n=this.o.language;return e.map(this.dates,(function(e){return m.formatDate(e,i,n)})).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),n=e(this.o.container),r=n.width(),o="body"===this.o.container?e(document).scrollTop():n.scrollTop(),a=n.offset(),s=[0];this.element.parents().each((function(){var t=e(this).css("z-index");"auto"!==t&&0!==Number(t)&&s.push(Number(t))}));var l=Math.max.apply(Math,s)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=u.left-a.left,f=u.top-a.top;"body"!==this.o.container&&(f+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=t-h)):u.left<0?(this.picker.addClass("datepicker-orient-left"),d-=u.left-10):d+t>r?(this.picker.addClass("datepicker-orient-right"),d+=h-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var p=this.o.orientation.y;if("auto"===p&&(p=-o+f-i<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?f-=i+parseInt(this.picker.css("padding-top")):f+=c,this.o.rtl){var v=r-(d+h);this.picker.css({top:f,right:v,zIndex:l})}else this.picker.css({top:f,left:d,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],n=!1;return arguments.length?(e.each(arguments,e.proxy((function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)}),this)),n=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy((function(e){return m.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)}),this)),i=e.grep(i,e.proxy((function(e){return!this.dateWithinRange(e)||!e}),this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),n?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&n&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(i+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)i+='<th class="dow',-1!==e.inArray(t,this.o.daysOfWeekDisabled)&&(i+=" disabled"),i+='">'+v[this.o.language].daysMin[t++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)}},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",i=0;i<12;i++)t+='<span class="month'+(e&&e.getMonth()===i?" focused":"")+'">'+v[this.o.language].monthsShort[i]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=e.map(t,(function(e){return e.valueOf()})):delete this.range,this.fill()},getClassNames:function(t){var i=[],o=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s=n();return t.getUTCFullYear()<o||t.getUTCFullYear()===o&&t.getUTCMonth()<a?i.push("old"):(t.getUTCFullYear()>o||t.getUTCFullYear()===o&&t.getUTCMonth()>a)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&r(t,s)&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,n,r,o,a,s,l){for(var u,c,h,d="",f=r/10,p=this.picker.find(i),v=Math.floor(o/r)*r,m=v+9*f,g=Math.floor(this.viewDate.getFullYear()/f)*f,y=e.map(this.dates,(function(e){return Math.floor(e.getUTCFullYear()/f)*f})),b=v-f;b<=m+f;b+=f)u=[n],c=null,b===v-f?u.push("old"):b===m+f&&u.push("new"),-1!==e.inArray(b,y)&&u.push("active"),(b<a||b>s)&&u.push("disabled"),b===g&&u.push("focused"),l!==e.noop&&((h=l(new Date(b,0,1)))===t?h={}:"boolean"==typeof h?h={enabled:h}:"string"==typeof h&&(h={classes:h}),!1===h.enabled&&u.push("disabled"),h.classes&&(u=u.concat(h.classes.split(/\s+/))),h.tooltip&&(c=h.tooltip)),d+='<span class="'+u.join(" ")+'"'+(c?' title="'+c+'"':"")+">"+b+"</span>";p.find(".datepicker-switch").text(v+"-"+m),p.find("td").html(d)},fill:function(){var r,o,a=new Date(this.viewDate),s=a.getUTCFullYear(),l=a.getUTCMonth(),u=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,c=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,f=v[this.o.language].today||v.en.today||"",p=v[this.o.language].clear||v.en.clear||"",g=v[this.o.language].titleFormat||v.en.titleFormat,y=n(),b=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&y>=this.o.startDate&&y<=this.o.endDate&&!this.weekOfDateIsDisabled(y);if(!isNaN(s)&&!isNaN(l)){this.picker.find(".datepicker-days .datepicker-switch").text(m.formatDate(a,g,this.o.language)),this.picker.find("tfoot .today").text(f).css("display",b?"table-cell":"none"),this.picker.find("tfoot .clear").text(p).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var w=i(s,l,0),T=w.getUTCDate();w.setUTCDate(T-(w.getUTCDay()-this.o.weekStart+7)%7);var D=new Date(w);w.getUTCFullYear()<100&&D.setUTCFullYear(w.getUTCFullYear()),D.setUTCDate(D.getUTCDate()+42),D=D.valueOf();for(var C,k,x=[];w.valueOf()<D;){if((C=w.getUTCDay())===this.o.weekStart&&(x.push("<tr>"),this.o.calendarWeeks)){var M=new Date(+w+(this.o.weekStart-C-7)%7*864e5),S=new Date(Number(M)+(11-M.getUTCDay())%7*864e5),E=new Date(Number(E=i(S.getUTCFullYear(),0,1))+(11-E.getUTCDay())%7*864e5),_=(S-E)/864e5/7+1;x.push('<td class="cw">'+_+"</td>")}(k=this.getClassNames(w)).push("day");var A=w.getUTCDate();this.o.beforeShowDay!==e.noop&&((o=this.o.beforeShowDay(this._utc_to_local(w)))===t?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1===o.enabled&&k.push("disabled"),o.classes&&(k=k.concat(o.classes.split(/\s+/))),o.tooltip&&(r=o.tooltip),o.content&&(A=o.content)),k=e.isFunction(e.uniqueSort)?e.uniqueSort(k):e.unique(k),x.push('<td class="'+k.join(" ")+'"'+(r?' title="'+r+'"':"")+' data-date="'+w.getTime().toString()+'">'+A+"</td>"),r=null,C===this.o.weekEnd&&x.push("</tr>"),w.setUTCDate(w.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(x.join(""));var N=v[this.o.language].monthsTitle||v.en.monthsTitle||"Months",I=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?N:s).end().find("tbody span").removeClass("active");if(e.each(this.dates,(function(e,t){t.getUTCFullYear()===s&&I.eq(t.getUTCMonth()).addClass("active")})),(s<u||s>h)&&I.addClass("disabled"),s===u&&I.slice(0,c).addClass("disabled"),s===h&&I.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var O=this;e.each(I,(function(i,n){var r=new Date(s,i,1),o=O.o.beforeShowMonth(r);o===t?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1!==o.enabled||e(n).hasClass("disabled")||e(n).addClass("disabled"),o.classes&&e(n).addClass(o.classes),o.tooltip&&e(n).prop("title",o.tooltip)}))}this._fill_yearsView(".datepicker-years","year",10,s,u,h,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,s,u,h,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,s,u,h,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,i=new Date(this.viewDate),n=i.getUTCFullYear(),r=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=1;switch(this.viewMode){case 4:u*=10;case 3:u*=10;case 2:u*=10;case 1:e=Math.floor(n/u)*u<=o,t=Math.floor(n/u)*u+u>s;break;case 0:e=n<=o&&r<=a,t=n>=s&&r>=l}this.picker.find(".prev").toggleClass("disabled",e),this.picker.find(".next").toggleClass("disabled",t)}},click:function(t){var r,o,a;t.preventDefault(),t.stopPropagation(),(r=e(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(n(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),1,1===this.viewMode?(a=r.parent().find("span").index(r),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a)):(a=0,o=Number(r.text()),this.viewDate.setUTCFullYear(o)),this._trigger(m.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(i(o,a,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var i=e(t.currentTarget).data("date"),n=new Date(i);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(n)},navArrowsClick:function(t){var i=e(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(i*=12*m.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,i),this._trigger(m.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):!1===this.o.multidate?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!function(e){return e&&!isNaN(e.getTime())}(e))return this.o.defaultViewDate;if(!t)return e;var i,n,r=new Date(e.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1===s)n=-1===t?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==i},i=a+t,r.setUTCMonth(i),i=(i+12)%12;else{for(var l=0;l<s;l++)r=this.moveMonth(r,t);i=r.getUTCMonth(),r.setUTCDate(o),n=function(){return i!==r.getUTCMonth()}}for(;n();)r.setUTCDate(--o),r.setUTCMonth(i);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1;i="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,(function(e){return r(t,e)})).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var t,i,n=!1,r=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(i=this.moveAvailableDate(r,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(i=this.moveAvailableDate(r,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?i=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(i=this.moveAvailableDate(r,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(r,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(r,t,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation())},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+m.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var c=function(t,i){e.data(t,"datepicker",this),this.element=e(t),this.inputs=e.map(i.inputs,(function(e){return e.jquery?e[0]:e})),delete i.inputs,this.keepEmptyValues=i.keepEmptyValues,delete i.keepEmptyValues,d.call(e(this.inputs),i).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,(function(t){return e.data(t,"datepicker")})),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,(function(e){return e.getUTCDate()})),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,(function(e){return e.valueOf()}));e.each(this.pickers,(function(e,i){i.setRange(t)}))},clearDates:function(){e.each(this.pickers,(function(e,t){t.clearDates()}))},dateUpdated:function(i){if(!this.updating){this.updating=!0;var n=e.data(i.target,"datepicker");if(n!==t){var r=n.getUTCDate(),o=this.keepEmptyValues,a=e.inArray(i.target,this.inputs),s=a-1,l=a+1,u=this.inputs.length;if(-1!==a){if(e.each(this.pickers,(function(e,t){t.getUTCDate()||t!==n&&o||t.setUTCDate(r)})),r<this.dates[s])for(;s>=0&&r<this.dates[s];)this.pickers[s--].setUTCDate(r);else if(r>this.dates[l])for(;l<u&&r>this.dates[l];)this.pickers[l++].setUTCDate(r);this.updateDates(),delete this.updating}}}},destroy:function(){e.map(this.pickers,(function(e){e.destroy()})),e(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var h=e.fn.datepicker,d=function(i){var n,r=Array.apply(null,arguments);if(r.shift(),this.each((function(){var t=e(this),o=t.data("datepicker"),l="object"==typeof i&&i;if(!o){var h=a(this,"date"),d=s(e.extend({},f,h,l).language),p=e.extend({},f,d,h,l);t.hasClass("input-daterange")||p.inputs?(e.extend(p,{inputs:p.inputs||t.find("input").toArray()}),o=new c(this,p)):o=new u(this,p),t.data("datepicker",o)}"string"==typeof i&&"function"==typeof o[i]&&(n=o[i].apply(o,r))})),n===t||n instanceof u||n instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return n};e.fn.datepicker=d;var f=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},p=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=u;var v=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},m={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(i,r,o,a){function s(){var e=this.slice(0,l[d].length),t=l[d].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!i)return t;if(i instanceof Date)return i;if("string"==typeof r&&(r=m.parseFormat(r)),r.toValue)return r.toValue(i,r,o);var l,c,h,d,f,p={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},g={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(i in g&&(i=g[i]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(i)){for(l=i.match(/([\-+]\d+)([dmwy])/gi),i=new Date,d=0;d<l.length;d++)c=l[d].match(/([\-+]\d+)([dmwy])/i),h=Number(c[1]),f=p[c[2].toLowerCase()],i=u.prototype[f](i,h);return u.prototype._zero_utc_time(i)}l=i&&i.match(this.nonpunctuation)||[];var y,b,w={},T=["yyyy","yy","M","MM","m","mm","d","dd"],D={yyyy:function(e,t){return e.setUTCFullYear(a?function(e,t){return!0===t&&(t=10),e<100&&(e+=2e3)>(new Date).getFullYear()+t&&(e-=100),e}(t,a):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};D.yy=D.yyyy,D.M=D.MM=D.mm=D.m,D.dd=D.d,i=n();var C=r.parts.slice();if(l.length!==C.length&&(C=e(C).filter((function(t,i){return-1!==e.inArray(i,T)})).toArray()),l.length===C.length){var k,x,M;for(d=0,k=C.length;d<k;d++){if(y=parseInt(l[d],10),c=C[d],isNaN(y))switch(c){case"MM":b=e(v[o].months).filter(s),y=e.inArray(b[0],v[o].months)+1;break;case"M":b=e(v[o].monthsShort).filter(s),y=e.inArray(b[0],v[o].monthsShort)+1}w[c]=y}for(d=0;d<T.length;d++)(M=T[d])in w&&!isNaN(w[M])&&(x=new Date(i),D[M](x,w[M]),isNaN(x)||(i=x))}return i},formatDate:function(t,i,n){if(!t)return"";if("string"==typeof i&&(i=m.parseFormat(i)),i.toDisplay)return i.toDisplay(t,i,n);var r={d:t.getUTCDate(),D:v[n].daysShort[t.getUTCDay()],DD:v[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:v[n].monthsShort[t.getUTCMonth()],MM:v[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,t=[];for(var o=e.extend([],i.separators),a=0,s=i.parts.length;a<=s;a++)o.length&&t.push(o.shift()),t.push(r[i.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+f.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+f.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=m,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=h,this},e.fn.datepicker.version="1.9.0",e.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+e)},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',(function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),d.call(i,"show"))})),e((function(){d.call(e('[data-provide="datepicker-inline"]'))}))})),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,(function(e){"use strict";function t(t){if(n.webkit&&!t)return{height:0,width:0};if(!n.data.outer){var i={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};n.data.inner=e("<div>").css(e.extend({},i)),n.data.outer=e("<div>").css(e.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},i)).append(n.data.inner).appendTo("body")}return n.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(n.data.outer.offset().top-n.data.inner.offset().top||0),width:Math.ceil(n.data.outer.offset().left-n.data.inner.offset().left||0)}}function i(e){var t=e.originalEvent;return(!t.axis||t.axis!==t.HORIZONTAL_AXIS)&&!t.wheelDeltaX}var n={data:{index:0,name:"scrollbar"},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};n.scrolls.add=function(e){this.remove(e).push(e)},n.scrolls.remove=function(t){for(;e.inArray(t,this)>=0;)this.splice(e.inArray(t,this),1);return this};var r={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},o=function(i){n.scroll||(n.overlay=function(){var e=t(!0);return!(e.height||e.width)}(),n.scroll=t(),s(),e(window).resize((function(){var e=!1;if(n.scroll&&(n.scroll.height||n.scroll.width)){var i=t();(i.height!==n.scroll.height||i.width!==n.scroll.width)&&(n.scroll=i,e=!0)}s(e)}))),this.container=i,this.namespace=".scrollbar_"+n.data.index++,this.options=e.extend({},r,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},i.data(n.data.name,this),n.scrolls.add(this)};o.prototype={destroy:function(){if(this.wrapper){this.container.removeData(n.data.name),n.scrolls.remove(this);var t=this.container.scrollLeft(),i=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(t).scrollTop(i),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace),this.wrapper.remove(),e(document).add("body").off(this.namespace),e.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(t){var r=this,o=this.container,a=this.containerWrapper||o,s=this.namespace,l=e.extend(this.options,t||{}),u={x:this.scrollx,y:this.scrolly},c=this.wrapper,h={scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop()};if(n.mobile&&l.ignoreMobile||n.overlay&&l.ignoreOverlay)return!1;if(c)a.css({height:"auto","margin-bottom":-1*n.scroll.height+"px","margin-right":-1*n.scroll.width+"px","max-height":""});else{if(this.wrapper=c=e("<div>").addClass("scroll-wrapper").addClass(o.attr("class")).css("position","absolute"==o.css("position")?"absolute":"relative").insertBefore(o).append(o),o.is("textarea")&&(this.containerWrapper=a=e("<div>").insertBefore(o).append(o),c.addClass("scroll-textarea")),a.addClass("scroll-content").css({height:"auto","margin-bottom":-1*n.scroll.height+"px","margin-right":-1*n.scroll.width+"px","max-height":""}),o.on("scroll"+s,(function(t){e.isFunction(l.onScroll)&&l.onScroll.call(r,{maxScroll:u.y.maxScrollOffset,scroll:o.scrollTop(),size:u.y.size,visible:u.y.visible},{maxScroll:u.x.maxScrollOffset,scroll:o.scrollLeft(),size:u.x.size,visible:u.x.visible}),u.x.isVisible&&u.x.scroll.bar.css("left",o.scrollLeft()*u.x.kx+"px"),u.y.isVisible&&u.y.scroll.bar.css("top",o.scrollTop()*u.y.kx+"px")})),c.on("scroll"+s,(function(){c.scrollTop(0).scrollLeft(0)})),l.disableBodyScroll){var d=function(e){i(e)?u.y.isVisible&&u.y.mousewheel(e):u.x.isVisible&&u.x.mousewheel(e)};c.on("MozMousePixelScroll"+s,d),c.on("mousewheel"+s,d),n.mobile&&c.on("touchstart"+s,(function(t){var i=t.originalEvent.touches&&t.originalEvent.touches[0]||t,n=i.pageX,r=i.pageY,a=o.scrollLeft(),l=o.scrollTop();e(document).on("touchmove"+s,(function(e){var t=e.originalEvent.targetTouches&&e.originalEvent.targetTouches[0]||e;o.scrollLeft(a+n-t.pageX),o.scrollTop(l+r-t.pageY),e.preventDefault()})),e(document).on("touchend"+s,(function(){e(document).off(s)}))}))}e.isFunction(l.onInit)&&l.onInit.apply(this,[o])}e.each(u,(function(t,n){var a=null,c=1,h="x"===t?"scrollLeft":"scrollTop",d=l.scrollStep,f=function(){var e=o[h]();o[h](e+d),1==c&&e+d>=p&&(e=o[h]()),-1==c&&p>=e+d&&(e=o[h]()),o[h]()==e&&a&&a()},p=0;n.scroll||(n.scroll=r._getScroll(l["scroll"+t]).addClass("scroll-"+t),l.showArrows&&n.scroll.addClass("scroll-element_arrows_visible"),n.mousewheel=function(e){if(!n.isVisible||"x"===t&&i(e))return!0;if("y"===t&&!i(e))return u.x.mousewheel(e),!0;var a=-1*e.originalEvent.wheelDelta||e.originalEvent.detail,s=n.size-n.visible-n.offset;return(a>0&&s>p||0>a&&p>0)&&(0>(p+=a)&&(p=0),p>s&&(p=s),r.scrollTo=r.scrollTo||{},r.scrollTo[h]=p,setTimeout((function(){r.scrollTo&&(o.stop().animate(r.scrollTo,240,"linear",(function(){p=o[h]()})),r.scrollTo=null)}),1)),e.preventDefault(),!1},n.scroll.on("MozMousePixelScroll"+s,n.mousewheel).on("mousewheel"+s,n.mousewheel).on("mouseenter"+s,(function(){p=o[h]()})),n.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+s,(function(i){if(1!=i.which)return!0;c=1;var s={eventOffset:i["x"===t?"pageX":"pageY"],maxScrollValue:n.size-n.visible-n.offset,scrollbarOffset:n.scroll.bar.offset()["x"===t?"left":"top"],scrollbarSize:n.scroll.bar["x"===t?"outerWidth":"outerHeight"]()},u=0,v=0;return e(this).hasClass("scroll-arrow")?(c=e(this).hasClass("scroll-arrow_more")?1:-1,d=l.scrollStep*c,p=c>0?s.maxScrollValue:0):(c=s.eventOffset>s.scrollbarOffset+s.scrollbarSize?1:s.eventOffset<s.scrollbarOffset?-1:0,d=Math.round(.75*n.visible)*c,p=s.eventOffset-s.scrollbarOffset-(l.stepScrolling?1==c?s.scrollbarSize:0:Math.round(s.scrollbarSize/2)),p=o[h]()+p/n.kx),r.scrollTo=r.scrollTo||{},r.scrollTo[h]=l.stepScrolling?o[h]()+d:p,l.stepScrolling&&(a=function(){p=o[h](),clearInterval(v),clearTimeout(u),u=0,v=0},u=setTimeout((function(){v=setInterval(f,40)}),l.duration+100)),setTimeout((function(){r.scrollTo&&(o.animate(r.scrollTo,l.duration),r.scrollTo=null)}),1),r._handleMouseDown(a,i)})),n.scroll.bar.on("mousedown"+s,(function(i){if(1!=i.which)return!0;var a=i["x"===t?"pageX":"pageY"],l=o[h]();return n.scroll.addClass("scroll-draggable"),e(document).on("mousemove"+s,(function(e){var i=parseInt((e["x"===t?"pageX":"pageY"]-a)/n.kx,10);o[h](l+i)})),r._handleMouseDown((function(){n.scroll.removeClass("scroll-draggable"),p=o[h]()}),i)})))})),e.each(u,(function(e,t){var i="scroll-scroll"+e+"_visible",n="x"==e?u.y:u.x;t.scroll.removeClass(i),n.scroll.removeClass(i),a.removeClass(i)})),e.each(u,(function(t,i){e.extend(i,"x"==t?{offset:parseInt(o.css("left"),10)||0,size:o.prop("scrollWidth"),visible:c.width()}:{offset:parseInt(o.css("top"),10)||0,size:o.prop("scrollHeight"),visible:c.height()})})),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),e.isFunction(l.onUpdate)&&l.onUpdate.apply(this,[o]),e.each(u,(function(e,t){var i="x"===e?"left":"top",n="x"===e?"outerWidth":"outerHeight",r="x"===e?"width":"height",a=parseInt(o.css(i),10)||0,s=t.size,u=t.visible+a,c=t.scroll.size[n]()+(parseInt(t.scroll.size.css(i),10)||0);l.autoScrollSize&&(t.scrollbarSize=parseInt(c*u/s,10),t.scroll.bar.css(r,t.scrollbarSize+"px")),t.scrollbarSize=t.scroll.bar[n](),t.kx=(c-t.scrollbarSize)/(s-u)||1,t.maxScrollOffset=s-u})),o.scrollLeft(h.scrollLeft).scrollTop(h.scrollTop).trigger("scroll")},_getScroll:function(t){var i={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};return i[t]&&(t=i[t]),t||(t=i.simple),t="string"==typeof t?e(t).appendTo(this.wrapper):e(t),e.extend(t,{bar:t.find(".scroll-bar"),size:t.find(".scroll-element_size"),track:t.find(".scroll-element_track")}),t},_handleMouseDown:function(t,i){var n=this.namespace;return e(document).on("blur"+n,(function(){e(document).add("body").off(n),t&&t()})),e(document).on("dragstart"+n,(function(e){return e.preventDefault(),!1})),e(document).on("mouseup"+n,(function(){e(document).add("body").off(n),t&&t()})),e("body").on("selectstart"+n,(function(e){return e.preventDefault(),!1})),i&&i.preventDefault(),!1},_updateScroll:function(t,i){var r=this.container,o=this.containerWrapper||r,a="scroll-scroll"+t+"_visible",s="x"===t?this.scrolly:this.scrollx,l=parseInt(this.container.css("x"===t?"left":"top"),10)||0,u=this.wrapper,c=i.size,h=i.visible+l;i.isVisible=c-h>1,i.isVisible?(i.scroll.addClass(a),s.scroll.addClass(a),o.addClass(a)):(i.scroll.removeClass(a),s.scroll.removeClass(a),o.removeClass(a)),"y"===t&&(r.is("textarea")||h>c?o.css({height:h+n.scroll.height+"px","max-height":"none"}):o.css({"max-height":h+n.scroll.height+"px"})),(i.size!=r.prop("scrollWidth")||s.size!=r.prop("scrollHeight")||i.visible!=u.width()||s.visible!=u.height()||i.offset!=(parseInt(r.css("left"),10)||0)||s.offset!=(parseInt(r.css("top"),10)||0))&&(e.extend(this.scrollx,{offset:parseInt(r.css("left"),10)||0,size:r.prop("scrollWidth"),visible:u.width()}),e.extend(this.scrolly,{offset:parseInt(r.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:u.height()}),this._updateScroll("x"===t?"y":"x",s))}};var a=o;e.fn.scrollbar=function(t,i){return"string"!=typeof t&&(i=t,t="init"),void 0===i&&(i=[]),e.isArray(i)||(i=[i]),this.not("body, .scroll-wrapper").each((function(){var r=e(this),o=r.data(n.data.name);(o||"init"===t)&&(o||(o=new a(r)),o[t]&&o[t].apply(o,i))})),this},e.fn.scrollbar.options=r;var s=function(){var e=0;return function(t){var i,r,o,a,l,u,c;for(i=0;i<n.scrolls.length;i++)r=(a=n.scrolls[i]).container,o=a.options,l=a.wrapper,u=a.scrollx,c=a.scrolly,(t||o.autoUpdate&&l&&l.is(":visible")&&(r.prop("scrollWidth")!=u.size||r.prop("scrollHeight")!=c.size||l.width()!=u.visible||l.height()!=c.visible))&&(a.init(),o.debug&&(window.console&&console.log({scrollHeight:r.prop("scrollHeight")+":"+a.scrolly.size,scrollWidth:r.prop("scrollWidth")+":"+a.scrollx.size,visibleHeight:l.height()+":"+a.scrolly.visible,visibleWidth:l.width()+":"+a.scrollx.visible},!0)));clearTimeout(e),e=setTimeout(s,300)}}();window.angular&&function(e){e.module("jQueryScrollbar",[]).provider("jQueryScrollbar",(function(){var t=r;return{setOptions:function(i){e.extend(t,i)},$get:function(){return{options:e.copy(t)}}}})).directive("jqueryScrollbar",["jQueryScrollbar","$parse",function(e,t){return{restrict:"AC",link:function(i,n,r){var o=t(r.jqueryScrollbar)(i);n.scrollbar(o||e.options).on("$destroy",(function(){n.scrollbar("destroy")}))}}}])}(window.angular)})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Tribute=t()}(this,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}if(Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(r,t,o,i))return t}),window&&"function"!=typeof window.CustomEvent){var o=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i};void 0!==window.Event&&(o.prototype=window.Event.prototype),window.CustomEvent=o}var a=function(){function t(i){e(this,t),this.tribute=i,this.tribute.events=this}return i(t,[{key:"bind",value:function(e){e.boundKeydown=this.keydown.bind(e,this),e.boundKeyup=this.keyup.bind(e,this),e.boundInput=this.input.bind(e,this),e.addEventListener("keydown",e.boundKeydown,!1),e.addEventListener("keyup",e.boundKeyup,!1),e.addEventListener("input",e.boundInput,!1)}},{key:"unbind",value:function(e){e.removeEventListener("keydown",e.boundKeydown,!1),e.removeEventListener("keyup",e.boundKeyup,!1),e.removeEventListener("input",e.boundInput,!1),delete e.boundKeydown,delete e.boundKeyup,delete e.boundInput}},{key:"keydown",value:function(e,i){e.shouldDeactivate(i)&&(e.tribute.isActive=!1,e.tribute.hideMenu());var n=this;e.commandEvent=!1,t.keys().forEach((function(t){t.key===i.keyCode&&(e.commandEvent=!0,e.callbacks()[t.value.toLowerCase()](i,n))}))}},{key:"input",value:function(e,t){e.inputEvent=!0,e.keyup.call(this,e,t)}},{key:"click",value:function(e,t){var i=e.tribute;if(i.menu&&i.menu.contains(t.target)){var n=t.target;for(t.preventDefault(),t.stopPropagation();"li"!==n.nodeName.toLowerCase();)if(!(n=n.parentNode)||n===i.menu)throw new Error("cannot find the <li> container for the click");i.selectItemAtIndex(n.getAttribute("data-index"),t),i.hideMenu()}else i.current.element&&!i.current.externalTrigger&&(i.current.externalTrigger=!1,setTimeout((function(){return i.hideMenu()})))}},{key:"keyup",value:function(e,t){if(e.inputEvent&&(e.inputEvent=!1),e.updateSelection(this),27!==t.keyCode){if(!e.tribute.allowSpaces&&e.tribute.hasTrailingSpace)return e.tribute.hasTrailingSpace=!1,e.commandEvent=!0,void e.callbacks().space(t,this);if(!e.tribute.isActive)if(e.tribute.autocompleteMode)e.callbacks().triggerChar(t,this,"");else{var i=e.getKeyCode(e,this,t);if(isNaN(i)||!i)return;var n=e.tribute.triggers().find((function(e){return e.charCodeAt(0)===i}));void 0!==n&&e.callbacks().triggerChar(t,this,n)}e.tribute.current.mentionText.length<e.tribute.current.collection.menuShowMinLength||((e.tribute.current.trigger||e.tribute.autocompleteMode)&&!1===e.commandEvent||e.tribute.isActive&&8===t.keyCode)&&e.tribute.showMenuFor(this,!0)}}},{key:"shouldDeactivate",value:function(e){if(!this.tribute.isActive)return!1;if(0===this.tribute.current.mentionText.length){var i=!1;return t.keys().forEach((function(t){e.keyCode===t.key&&(i=!0)})),!i}return!1}},{key:"getKeyCode",value:function(e,t,i){var n=e.tribute,r=n.range.getTriggerInfo(!1,n.hasTrailingSpace,!0,n.allowSpaces,n.autocompleteMode);return!!r&&r.mentionTriggerChar.charCodeAt(0)}},{key:"updateSelection",value:function(e){this.tribute.current.element=e;var t=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);t&&(this.tribute.current.selectedPath=t.mentionSelectedPath,this.tribute.current.mentionText=t.mentionText,this.tribute.current.selectedOffset=t.mentionSelectedOffset)}},{key:"callbacks",value:function(){var e=this;return{triggerChar:function(t,i,n){var r=e.tribute;r.current.trigger=n;var o=r.collection.find((function(e){return e.trigger===n}));r.current.collection=o,r.current.mentionText.length>=r.current.collection.menuShowMinLength&&r.inputEvent&&r.showMenuFor(i,!0)},enter:function(t,i){e.tribute.isActive&&e.tribute.current.filteredItems&&(t.preventDefault(),t.stopPropagation(),setTimeout((function(){e.tribute.selectItemAtIndex(e.tribute.menuSelected,t),e.tribute.hideMenu()}),0))},escape:function(t,i){e.tribute.isActive&&(t.preventDefault(),t.stopPropagation(),e.tribute.isActive=!1,e.tribute.hideMenu())},tab:function(t,i){e.callbacks().enter(t,i)},space:function(t,i){e.tribute.isActive&&(e.tribute.spaceSelectsMatch?e.callbacks().enter(t,i):e.tribute.allowSpaces||(t.stopPropagation(),setTimeout((function(){e.tribute.hideMenu(),e.tribute.isActive=!1}),0)))},up:function(t,i){if(e.tribute.isActive&&e.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();var n=e.tribute.current.filteredItems.length,r=e.tribute.menuSelected;n>r&&r>0?(e.tribute.menuSelected--,e.setActiveLi()):0===r&&(e.tribute.menuSelected=n-1,e.setActiveLi(),e.tribute.menu.scrollTop=e.tribute.menu.scrollHeight)}},down:function(t,i){if(e.tribute.isActive&&e.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();var n=e.tribute.current.filteredItems.length-1,r=e.tribute.menuSelected;n>r?(e.tribute.menuSelected++,e.setActiveLi()):n===r&&(e.tribute.menuSelected=0,e.setActiveLi(),e.tribute.menu.scrollTop=0)}},delete:function(t,i){e.tribute.isActive&&e.tribute.current.mentionText.length<1?e.tribute.hideMenu():e.tribute.isActive&&e.tribute.showMenuFor(i)}}}},{key:"setActiveLi",value:function(e){var t=this.tribute.menu.querySelectorAll("li"),i=t.length>>>0;e&&(this.tribute.menuSelected=parseInt(e));for(var n=0;n<i;n++){var r=t[n];if(n===this.tribute.menuSelected){r.classList.add(this.tribute.current.collection.selectClass);var o=r.getBoundingClientRect(),a=this.tribute.menu.getBoundingClientRect();if(o.bottom>a.bottom){var s=o.bottom-a.bottom;this.tribute.menu.scrollTop+=s}else if(o.top<a.top){var l=a.top-o.top;this.tribute.menu.scrollTop-=l}}else r.classList.remove(this.tribute.current.collection.selectClass)}}},{key:"getFullHeight",value:function(e,t){var i=e.getBoundingClientRect().height;if(t){var n=e.currentStyle||window.getComputedStyle(e);return i+parseFloat(n.marginTop)+parseFloat(n.marginBottom)}return i}}],[{key:"keys",value:function(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}}]),t}(),s=function(){function t(i){e(this,t),this.tribute=i,this.tribute.menuEvents=this,this.menu=this.tribute.menu}return i(t,[{key:"bind",value:function(e){var t=this;this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce((function(){t.tribute.isActive&&t.tribute.showMenuFor(t.tribute.current.element,!1)}),300,!1),this.windowResizeEvent=this.debounce((function(){t.tribute.isActive&&t.tribute.range.positionMenuAtCaret(!0)}),300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}},{key:"unbind",value:function(e){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}},{key:"debounce",value:function(e,t,i){var n,r=arguments,o=this;return function(){var a=o,s=r,l=i&&!n;clearTimeout(n),n=setTimeout((function(){n=null,i||e.apply(a,s)}),t),l&&e.apply(a,s)}}}]),t}(),l=function(){function t(i){e(this,t),this.tribute=i,this.tribute.range=this}return i(t,[{key:"getDocument",value:function(){var e;return this.tribute.current.collection&&(e=this.tribute.current.collection.iframe),e?e.contentWindow.document:document}},{key:"positionMenuAtCaret",value:function(e){var t,i=this,n=this.tribute.current,r=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==r){if(!this.tribute.positionMenu)return void(this.tribute.menu.style.cssText="display: block;");t=this.isContentEditable(n.element)?this.getContentEditableCaretPosition(r.mentionPosition):this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,r.mentionPosition),this.tribute.menu.style.cssText="top: ".concat(t.top,"px;\n                                     left: ").concat(t.left,"px;\n                                     right: ").concat(t.right,"px;\n                                     bottom: ").concat(t.bottom,"px;\n                                     position: absolute;\n                                     display: block;"),"auto"===t.left&&(this.tribute.menu.style.left="auto"),"auto"===t.top&&(this.tribute.menu.style.top="auto"),e&&this.scrollIntoView(),window.setTimeout((function(){var n={width:i.tribute.menu.offsetWidth,height:i.tribute.menu.offsetHeight},r=i.isMenuOffScreen(t,n),o=window.innerWidth>n.width&&(r.left||r.right),a=window.innerHeight>n.height&&(r.top||r.bottom);(o||a)&&(i.tribute.menu.style.cssText="display: none",i.positionMenuAtCaret(e))}),0)}else this.tribute.menu.style.cssText="display: none"}},{key:"selectElement",value:function(e,t,i){var n,r=e;if(t)for(var o=0;o<t.length;o++){if(void 0===(r=r.childNodes[t[o]]))return;for(;r.length<i;)i-=r.length,r=r.nextSibling;0!==r.childNodes.length||r.length||(r=r.previousSibling)}var a=this.getWindowSelection();(n=this.getDocument().createRange()).setStart(r,i),n.setEnd(r,i),n.collapse(!0);try{a.removeAllRanges()}catch(e){}a.addRange(n),e.focus()}},{key:"replaceTriggerText",value:function(e,t,i,n,r){var o=this.getTriggerInfo(!0,i,t,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==o){var a=this.tribute.current,s=new CustomEvent("tribute-replaced",{detail:{item:r,instance:a,context:o,event:n}});if(this.isContentEditable(a.element)){e+="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:"";var l=o.mentionPosition+o.mentionText.length;this.tribute.autocompleteMode||(l+=o.mentionTriggerChar.length),this.pasteHtml(e,o.mentionPosition,l)}else{var u=this.tribute.current.element,c="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";e+=c;var h=o.mentionPosition,d=o.mentionPosition+o.mentionText.length+c.length;this.tribute.autocompleteMode||(d+=o.mentionTriggerChar.length-1),u.value=u.value.substring(0,h)+e+u.value.substring(d,u.value.length),u.selectionStart=h+e.length,u.selectionEnd=h+e.length}a.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),a.element.dispatchEvent(s)}}},{key:"pasteHtml",value:function(e,t,i){var n,r;r=this.getWindowSelection(),(n=this.getDocument().createRange()).setStart(r.anchorNode,t),n.setEnd(r.anchorNode,i),n.deleteContents();var o=this.getDocument().createElement("div");o.innerHTML=e;for(var a,s,l=this.getDocument().createDocumentFragment();a=o.firstChild;)s=l.appendChild(a);n.insertNode(l),s&&((n=n.cloneRange()).setStartAfter(s),n.collapse(!0),r.removeAllRanges(),r.addRange(n))}},{key:"getWindowSelection",value:function(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}},{key:"getNodePositionInParent",value:function(e){if(null===e.parentNode)return 0;for(var t=0;t<e.parentNode.childNodes.length;t++){if(e.parentNode.childNodes[t]===e)return t}}},{key:"getContentEditableSelectedPath",value:function(e){var t=this.getWindowSelection(),i=t.anchorNode,n=[];if(null!=i){for(var r,o=i.contentEditable;null!==i&&"true"!==o;)r=this.getNodePositionInParent(i),n.push(r),null!==(i=i.parentNode)&&(o=i.contentEditable);return n.reverse(),{selected:i,path:n,offset:t.getRangeAt(0).startOffset}}}},{key:"getTextPrecedingCurrentSelection",value:function(){var e=this.tribute.current,t="";if(this.isContentEditable(e.element)){var i=this.getWindowSelection().anchorNode;if(null!=i){var n=i.textContent,r=this.getWindowSelection().getRangeAt(0).startOffset;n&&r>=0&&(t=n.substring(0,r))}}else{var o=this.tribute.current.element;if(o){var a=o.selectionStart;o.value&&a>=0&&(t=o.value.substring(0,a))}}return t}},{key:"getLastWordInText",value:function(e){var t;return e=e.replace(/\u00A0/g," "),(t=this.tribute.autocompleteSeparator?e.split(this.tribute.autocompleteSeparator):e.split(/\s+/))[t.length-1].trim()}},{key:"getTriggerInfo",value:function(e,t,i,n,r){var o,a,s,l=this,u=this.tribute.current;if(this.isContentEditable(u.element)){var c=this.getContentEditableSelectedPath(u);c&&(o=c.selected,a=c.path,s=c.offset)}else o=this.tribute.current.element;var h=this.getTextPrecedingCurrentSelection(),d=this.getLastWordInText(h);if(r)return{mentionPosition:h.length-d.length,mentionText:d,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:s};if(null!=h){var f,p=-1;if(this.tribute.collection.forEach((function(e){var t=e.trigger,n=e.requireLeadingSpace?l.lastIndexWithLeadingSpace(h,t):h.lastIndexOf(t);n>p&&(p=n,f=t,i=e.requireLeadingSpace)})),p>=0&&(0===p||!i||/[\xA0\s]/g.test(h.substring(p-1,p)))){var v=h.substring(p+f.length,h.length);f=h.substring(p,p+f.length);var m=v.substring(0,1),g=v.length>0&&(" "===m||""===m);t&&(v=v.trim());var y=n?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=y.test(v),!g&&(e||!y.test(v)))return{mentionPosition:p,mentionText:v,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:s,mentionTriggerChar:f}}}}},{key:"lastIndexWithLeadingSpace",value:function(e,t){for(var i=e.split("").reverse().join(""),n=-1,r=0,o=e.length;r<o;r++){for(var a=r===e.length-1,s=/\s/.test(i[r+1]),l=!0,u=t.length-1;u>=0;u--)if(t[u]!==i[r-u]){l=!1;break}if(l&&(a||s)){n=e.length-1-r;break}}return n}},{key:"isContentEditable",value:function(e){return"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName}},{key:"isMenuOffScreen",value:function(e,t){var i=window.innerWidth,n=window.innerHeight,r=document.documentElement,o=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),a=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),s="number"==typeof e.top?e.top:a+n-e.bottom-t.height,l="number"==typeof e.right?e.right:e.left+t.width,u="number"==typeof e.bottom?e.bottom:e.top+t.height,c="number"==typeof e.left?e.left:o+i-e.right-t.width;return{top:s<Math.floor(a),right:l>Math.ceil(o+i),bottom:u>Math.ceil(a+n),left:c<Math.floor(o)}}},{key:"getMenuDimensions",value:function(){var e={width:null,height:null};return this.tribute.menu.style.cssText="top: 0px;\n                                 left: 0px;\n                                 position: fixed;\n                                 display: block;\n                                 visibility; hidden;",e.width=this.tribute.menu.offsetWidth,e.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",e}},{key:"getTextAreaOrInputUnderlinePosition",value:function(e,t,i){var n=null!==window.mozInnerScreenX,r=this.getDocument().createElement("div");r.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(r);var o=r.style,a=window.getComputedStyle?getComputedStyle(e):e.currentStyle;o.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach((function(e){o[e]=a[e]})),n?(o.width="".concat(parseInt(a.width)-2,"px"),e.scrollHeight>parseInt(a.height)&&(o.overflowY="scroll")):o.overflow="hidden",r.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(r.textContent=r.textContent.replace(/\s/g,""));var s=this.getDocument().createElement("span");s.textContent=e.value.substring(t)||".",r.appendChild(s);var l=e.getBoundingClientRect(),u=document.documentElement,c=(window.pageXOffset||u.scrollLeft)-(u.clientLeft||0),h=(window.pageYOffset||u.scrollTop)-(u.clientTop||0),d=0,f=0;this.menuContainerIsBody&&(d=l.top,f=l.left);var p={top:d+h+s.offsetTop+parseInt(a.borderTopWidth)+parseInt(a.fontSize)-e.scrollTop,left:f+c+s.offsetLeft+parseInt(a.borderLeftWidth)},v=window.innerWidth,m=window.innerHeight,g=this.getMenuDimensions(),y=this.isMenuOffScreen(p,g);y.right&&(p.right=v-p.left,p.left="auto");var b=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(y.bottom){var w=b-(m-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);p.bottom=w+(m-l.top-s.offsetTop),p.top="auto"}return(y=this.isMenuOffScreen(p,g)).left&&(p.left=v>g.width?c+v-g.width:c,delete p.right),y.top&&(p.top=m>g.height?h+m-g.height:h,delete p.bottom),this.getDocument().body.removeChild(r),p}},{key:"getContentEditableCaretPosition",value:function(e){var t,i=this.getWindowSelection();(t=this.getDocument().createRange()).setStart(i.anchorNode,e),t.setEnd(i.anchorNode,e),t.collapse(!1);var n=t.getBoundingClientRect(),r=document.documentElement,o=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),a=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),s={left:n.left+o,top:n.top+n.height+a},l=window.innerWidth,u=window.innerHeight,c=this.getMenuDimensions(),h=this.isMenuOffScreen(s,c);h.right&&(s.left="auto",s.right=l-n.left-o);var d=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(h.bottom){var f=d-(u-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);s.top="auto",s.bottom=f+(u-n.top)}return(h=this.isMenuOffScreen(s,c)).left&&(s.left=l>c.width?o+l-c.width:o,delete s.right),h.top&&(s.top=u>c.height?a+u-c.height:a,delete s.bottom),this.menuContainerIsBody||(s.left=s.left?s.left-this.tribute.menuContainer.offsetLeft:s.left,s.top=s.top?s.top-this.tribute.menuContainer.offsetTop:s.top),s}},{key:"scrollIntoView",value:function(e){var t,i=this.menu;if(void 0!==i){for(;void 0===t||0===t.height;)if(0===(t=i.getBoundingClientRect()).height&&(void 0===(i=i.childNodes[0])||!i.getBoundingClientRect))return;var n=t.top,r=n+t.height;if(n<0)window.scrollTo(0,window.pageYOffset+t.top-20);else if(r>window.innerHeight){var o=window.pageYOffset+t.top-20;o-window.pageYOffset>100&&(o=window.pageYOffset+100);var a=window.pageYOffset-(window.innerHeight-r);a>o&&(a=o),window.scrollTo(0,a)}}}},{key:"menuContainerIsBody",get:function(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}}]),t}(),u=function(){function t(i){e(this,t),this.tribute=i,this.tribute.search=this}return i(t,[{key:"simpleFilter",value:function(e,t){var i=this;return t.filter((function(t){return i.test(e,t)}))}},{key:"test",value:function(e,t){return null!==this.match(e,t)}},{key:"match",value:function(e,t,i){i=i||{};t.length;var n=i.pre||"",r=i.post||"",o=i.caseSensitive&&t||t.toLowerCase();if(i.skip)return{rendered:t,score:0};e=i.caseSensitive&&e||e.toLowerCase();var a=this.traverse(o,e,0,0,[]);return a?{rendered:this.render(t,a.cache,n,r),score:a.score}:null}},{key:"traverse",value:function(e,t,i,n,r){if(this.tribute.autocompleteSeparator&&(t=t.split(this.tribute.autocompleteSeparator).splice(-1)[0]),t.length===n)return{score:this.calculateScore(r),cache:r.slice()};if(!(e.length===i||t.length-n>e.length-i)){for(var o,a,s=t[n],l=e.indexOf(s,i);l>-1;){if(r.push(l),a=this.traverse(e,t,l+1,n+1,r),r.pop(),!a)return o;(!o||o.score<a.score)&&(o=a),l=e.indexOf(s,l+1)}return o}}},{key:"calculateScore",value:function(e){var t=0,i=1;return e.forEach((function(n,r){r>0&&(e[r-1]+1===n?i+=i+1:i=1),t+=i})),t}},{key:"render",value:function(e,t,i,n){var r=e.substring(0,t[0]);return t.forEach((function(o,a){r+=i+e[o]+n+e.substring(o+1,t[a+1]?t[a+1]:e.length)})),r}},{key:"filter",value:function(e,t,i){var n=this;return i=i||{},t.reduce((function(t,r,o,a){var s=r;i.extract&&((s=i.extract(r))||(s=""));var l=n.match(e,s,i);return null!=l&&(t[t.length]={string:l.rendered,score:l.score,index:o,original:r}),t}),[]).sort((function(e,t){var i=t.score-e.score;return i||e.index-t.index}))}}]),t}();return function(){function t(i){var n,r=this,o=i.values,c=void 0===o?null:o,h=i.loadingItemTemplate,d=void 0===h?null:h,f=i.iframe,p=void 0===f?null:f,v=i.selectClass,m=void 0===v?"highlight":v,g=i.containerClass,y=void 0===g?"tribute-container":g,b=i.itemClass,w=void 0===b?"":b,T=i.trigger,D=void 0===T?"@":T,C=i.autocompleteMode,k=void 0!==C&&C,x=i.autocompleteSeparator,M=void 0===x?null:x,S=i.selectTemplate,E=void 0===S?null:S,_=i.menuItemTemplate,A=void 0===_?null:_,N=i.lookup,I=void 0===N?"key":N,O=i.fillAttr,L=void 0===O?"value":O,U=i.collection,W=void 0===U?null:U,F=i.menuContainer,H=void 0===F?null:F,P=i.noMatchTemplate,z=void 0===P?null:P,R=i.requireLeadingSpace,V=void 0===R||R,B=i.allowSpaces,Y=void 0!==B&&B,j=i.replaceTextSuffix,q=void 0===j?null:j,X=i.positionMenu,K=void 0===X||X,Q=i.spaceSelectsMatch,$=void 0!==Q&&Q,J=i.searchOpts,G=void 0===J?{}:J,Z=i.menuItemLimit,ee=void 0===Z?null:Z,te=i.menuShowMinLength,ie=void 0===te?0:te;if(e(this,t),this.autocompleteMode=k,this.autocompleteSeparator=M,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=H,this.allowSpaces=Y,this.replaceTextSuffix=q,this.positionMenu=K,this.hasTrailingSpace=!1,this.spaceSelectsMatch=$,this.autocompleteMode&&(D="",Y=!1),c)this.collection=[{trigger:D,iframe:p,selectClass:m,containerClass:y,itemClass:w,selectTemplate:(E||t.defaultSelectTemplate).bind(this),menuItemTemplate:(A||t.defaultMenuItemTemplate).bind(this),noMatchTemplate:(n=z,"string"==typeof n?""===n.trim()?null:n:"function"==typeof n?n.bind(r):z||function(){return"<li>No Match Found!</li>"}.bind(r)),lookup:I,fillAttr:L,values:c,loadingItemTemplate:d,requireLeadingSpace:V,searchOpts:G,menuItemLimit:ee,menuShowMinLength:ie}];else{if(!W)throw new Error("[Tribute] No collection specified.");this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=W.map((function(e){return{trigger:e.trigger||D,iframe:e.iframe||p,selectClass:e.selectClass||m,containerClass:e.containerClass||y,itemClass:e.itemClass||w,selectTemplate:(e.selectTemplate||t.defaultSelectTemplate).bind(r),menuItemTemplate:(e.menuItemTemplate||t.defaultMenuItemTemplate).bind(r),noMatchTemplate:function(e){return"string"==typeof e?""===e.trim()?null:e:"function"==typeof e?e.bind(r):z||function(){return"<li>No Match Found!</li>"}.bind(r)}(z),lookup:e.lookup||I,fillAttr:e.fillAttr||L,values:e.values,loadingItemTemplate:e.loadingItemTemplate,requireLeadingSpace:e.requireLeadingSpace,searchOpts:e.searchOpts||G,menuItemLimit:e.menuItemLimit||ee,menuShowMinLength:e.menuShowMinLength||ie}}))}new l(this),new a(this),new s(this),new u(this)}return i(t,[{key:"triggers",value:function(){return this.collection.map((function(e){return e.trigger}))}},{key:"attach",value:function(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array)for(var t=e.length,i=0;i<t;++i)this._attach(e[i]);else this._attach(e)}},{key:"_attach",value:function(e){e.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+e.nodeName),this.ensureEditable(e),this.events.bind(e),e.setAttribute("data-tribute",!0)}},{key:"ensureEditable",value:function(e){if(-1===t.inputTypes().indexOf(e.nodeName)){if(!e.contentEditable)throw new Error("[Tribute] Cannot bind to "+e.nodeName);e.contentEditable=!0}}},{key:"createMenu",value:function(e){var t=this.range.getDocument().createElement("div"),i=this.range.getDocument().createElement("ul");return t.className=e,t.appendChild(i),this.menuContainer?this.menuContainer.appendChild(t):this.range.getDocument().body.appendChild(t)}},{key:"showMenuFor",value:function(e,t){var i=this;if(!this.isActive||this.current.element!==e||this.current.mentionText!==this.currentMentionTextSnapshot){this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),e.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");var r=function(e){if(i.isActive){var r=i.search.filter(i.current.mentionText,e,{pre:i.current.collection.searchOpts.pre||"<span>",post:i.current.collection.searchOpts.post||"</span>",skip:i.current.collection.searchOpts.skip,extract:function(e){if("string"==typeof i.current.collection.lookup)return e[i.current.collection.lookup];if("function"==typeof i.current.collection.lookup)return i.current.collection.lookup(e,i.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});i.current.collection.menuItemLimit&&(r=r.slice(0,i.current.collection.menuItemLimit)),i.current.filteredItems=r;var o=i.menu.querySelector("ul");if(i.range.positionMenuAtCaret(t),!r.length){var a=new CustomEvent("tribute-no-match",{detail:i.menu});return i.current.element.dispatchEvent(a),void("function"==typeof i.current.collection.noMatchTemplate&&!i.current.collection.noMatchTemplate()||!i.current.collection.noMatchTemplate?i.hideMenu():"function"==typeof i.current.collection.noMatchTemplate?o.innerHTML=i.current.collection.noMatchTemplate():o.innerHTML=i.current.collection.noMatchTemplate)}o.innerHTML="";var s=i.range.getDocument().createDocumentFragment();r.forEach((function(e,t){var r=i.range.getDocument().createElement("li");r.setAttribute("data-index",t),r.className=i.current.collection.itemClass,r.addEventListener("mousemove",(function(e){var t=n(i._findLiTarget(e.target),2),r=(t[0],t[1]);0!==e.movementY&&i.events.setActiveLi(r)})),i.menuSelected===t&&r.classList.add(i.current.collection.selectClass),r.innerHTML=i.current.collection.menuItemTemplate(e),s.appendChild(r)})),o.appendChild(s)}};"function"==typeof this.current.collection.values?(this.current.collection.loadingItemTemplate&&(this.menu.querySelector("ul").innerHTML=this.current.collection.loadingItemTemplate,this.range.positionMenuAtCaret(t)),this.current.collection.values(this.current.mentionText,r)):r(this.current.collection.values)}}},{key:"_findLiTarget",value:function(e){if(!e)return[];var t=e.getAttribute("data-index");return t?[e,t]:this._findLiTarget(e.parentNode)}},{key:"showMenuForCollection",value:function(e,t){e!==document.activeElement&&this.placeCaretAtEnd(e),this.current.collection=this.collection[t||0],this.current.externalTrigger=!0,this.current.element=e,e.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(e,this.current.collection.trigger),this.showMenuFor(e)}},{key:"placeCaretAtEnd",value:function(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(t)}else if(void 0!==document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(e),n.collapse(!1),n.select()}}},{key:"insertTextAtCursor",value:function(e){var t,i;(i=(t=window.getSelection()).getRangeAt(0)).deleteContents();var n=document.createTextNode(e);i.insertNode(n),i.selectNodeContents(n),i.collapse(!1),t.removeAllRanges(),t.addRange(i)}},{key:"insertAtCaret",value:function(e,t){var i=e.scrollTop,n=e.selectionStart,r=e.value.substring(0,n),o=e.value.substring(e.selectionEnd,e.value.length);e.value=r+t+o,n+=t.length,e.selectionStart=n,e.selectionEnd=n,e.focus(),e.scrollTop=i}},{key:"hideMenu",value:function(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}},{key:"selectItemAtIndex",value:function(e,t){if("number"==typeof(e=parseInt(e))&&!isNaN(e)){var i=this.current.filteredItems[e],n=this.current.collection.selectTemplate(i);null!==n&&this.replaceText(n,t,i)}}},{key:"replaceText",value:function(e,t,i){this.range.replaceTriggerText(e,!0,!0,t,i)}},{key:"_append",value:function(e,t,i){if("function"==typeof e.values)throw new Error("Unable to append to values, as it is a function.");e.values=i?t:e.values.concat(t)}},{key:"append",value:function(e,t,i){var n=parseInt(e);if("number"!=typeof n)throw new Error("please provide an index for the collection to update.");var r=this.collection[n];this._append(r,t,i)}},{key:"appendCurrent",value:function(e,t){if(!this.isActive)throw new Error("No active state. Please use append instead and pass an index.");this._append(this.current.collection,e,t)}},{key:"detach",value:function(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array)for(var t=e.length,i=0;i<t;++i)this._detach(e[i]);else this._detach(e)}},{key:"_detach",value:function(e){var t=this;this.events.unbind(e),e.tributeMenu&&this.menuEvents.unbind(e.tributeMenu),setTimeout((function(){e.removeAttribute("data-tribute"),t.isActive=!1,e.tributeMenu&&e.tributeMenu.remove()}))}},{key:"isActive",get:function(){return this._isActive},set:function(e){if(this._isActive!=e&&(this._isActive=e,this.current.element)){var t=new CustomEvent("tribute-active-".concat(e));this.current.element.dispatchEvent(t)}}}],[{key:"defaultSelectTemplate",value:function(e){return void 0===e?"".concat(this.current.collection.trigger).concat(this.current.mentionText):this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+e.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+e.original[this.current.collection.fillAttr]}},{key:"defaultMenuItemTemplate",value:function(e){return e.string}},{key:"inputTypes",value:function(){return["TEXTAREA","INPUT"]}}]),t}()}));