<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width">
	<meta name="description" content="">
	<meta name="keywords" content="">

	<!-- url bar color theme -->
	<meta name="theme-color" content="#fff">
	<meta name="msapplication-navbutton-color" content="#fff">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="theme-color" content="#fff">
	<meta name="msapplication-navbutton-color" content="#fff">
	<meta name="apple-mobile-web-app-status-bar-style" content="#fff">

	<!-- icon -->
    <link rel="apple-touch-icon" sizes="152x152" href="../asset/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../asset/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../asset/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="../asset/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="../asset/images/favicon/safari-pinned-tab-v2.svg">
    <meta name="msapplication-TileColor" content="#fff">
    <meta name="theme-color" content="#ffffff">

    <title>Borneopedia</title>
    
	<!-- font -->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,300;0,400;0,600;0,700;0,800;0,900;1,400;1,700&display=swap" rel="stylesheet">
	

    <link href="../asset/css/style.css" rel="stylesheet" type="text/css">
    <link href="http://xassets.borneopedia.com/css/main.css?v3" rel="stylesheet" type="text/css">

	<!-- tinymce -->
	<script src="https://cdn.tiny.cloud/1/t8pnyourm2nt4bownb36wqp8ahusl8e6a7kzapaxs9ill67b/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>

</head>

<body>
	<!-- s: root -->
	<div class="root">

		<div class="welcome-wrap">
			<header class="welcome-logo">
				<h1 class="welcome-img">
					<a href="index.html" role="link">
						<img src="../asset/images/logo-borneopedia-red.svg" alt="Borneopedia" width="447" height="79">
					</a>
				</h1>
			</header>
			
			<!-- signup -->
			<section class="panel">
				<h1 class="title">Sign In</h1>
				<div class="panel-body">
					<div class="panel-alert -success">
						<p>Your account has been created, now you can continue login below.</p>
					</div>
					<form action="home.html">
						<div class="form-row">
							<label for="email">Email Address</label>
							<div class="form-input">
								<input type="text" id="email" name="email" class="input" placeholder="">
							</div>
							<div class="form-hint"></div>
						</div>
						<div class="form-row form-error">
							<label for="password">Password</label>
							<div class="form-input">
								<input type="password" id="password" name="password" class="input -error" placeholder="">
							</div>
							<div class="form-hint">The password that you've entered is incorrect</div>
						</div>
						<div class="form-row">
							<div class="form-checkbox">
								<input type="checkbox" name="remember" id="remember" value="">
								<label for="remember">Remember Me</label>
							</div>
						</div>
						<div class="form-row">
							<input type="submit" name="signin" id="signin" value="Login" class="button -primary">
						</div>
						<div class="sign-text -center">
							<a href="index-reset-password.html">Forgot your password?</a>
						</div>
						<div class="sign-text -center">
							Don't have an account? <strong><a href="index-signup.html">Sign up</a></strong>
						</div>
					</form>
				</div>
			</section>

			<section class="welcome-download">
				<div class="app-badge">
					<a href="#" target="_blank">
						<img src="../asset/images/google-play-badge.png" alt="Get it on Google Play">
					</a>
					<a href="#" target="_blank">
						<img src="../asset/images/app-store-badge.png" alt="Download on the App Store">
					</a>
				</div>
			</section>

			<section class="welcome-bg">
				<footer class="footer-bottom">
					<nav class="footer-nav" aria-label="Footer">
						<ul>
							<li><a href="static-about.html" role="link" aria-label="About">About</a></li>
							<li><a href="static-faq.html" role="link" aria-label="FAQ">FAQ</a></li>
							<li><a href="static-privacy.html" role="link" aria-label="Privacy">Privacy</a></li>
							<li><a href="static-terms.html" role="link" aria-label="Terms">Terms</a></li>
							<li><a href="static-contact.html" role="link" aria-label="Contact">Contact</a></li>
						</ul>
					</nav>
					<div class="footer-copy">Â© 2021 borneopedia.id</div>
				</footer>
				<span style="background-image: url('../asset/images/welcome-background.png');"></span>
			</section>
		</div>

	</div>
	<!-- e: root -->

<script type="text/javascript" src="../asset/js/jquery.min.js"></script>
<script type="text/javascript" src="../asset/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../asset/js/plugin-pack.js"></script>
<script type="text/javascript" src="../asset/js/main.js"></script>
<script>
// tinymce
let plugins = 'emoticons lists image wordcount';
let toolbar = 'bold italic | bullist | image';
tinymce.init({
	selector: '.tinymce-textarea',
	menubar: false,
	placeholder: 'Write here',
	statusbar: false,
	min_height: 285,
	plugins: plugins,
	toolbar: toolbar,
	content_style: 'img { max-width: 100%; width: auto; height: auto }', // update agustus 2021
	automatic_uploads: true,
	file_picker_types: 'image',
	file_picker_callback: function (cb, value, meta) {
		var input = document.createElement('input');
		input.setAttribute('type', 'file');
		input.setAttribute('accept', 'image/*');

		/*
		Note: In modern browsers input[type="file"] is functional without
		even adding it to the DOM, but that might not be the case in some older
		or quirky browsers like IE, so you might want to add it to the DOM
		just in case, and visually hide it. And do not forget do remove it
		once you do not need it anymore.
		*/

		input.onchange = function () {
			var file = this.files[0];

			var reader = new FileReader();
			reader.onload = function () {
				/*
					Note: Now we need to register the blob in TinyMCEs image blob
					registry. In the next release this part hopefully won't be
					necessary, as we are looking to handle it internally.
				*/
				var id = 'blobid' + (new Date()).getTime();
				var blobCache =  tinymce.activeEditor.editorUpload.blobCache;
				var base64 = reader.result.split(',')[1];
				var blobInfo = blobCache.create(id, file, base64);
				blobCache.add(blobInfo);

				/* call the callback and populate the Title field with the file name */
				cb(blobInfo.blobUri(), { title: file.name });
			};
			reader.readAsDataURL(file);
		};

		input.click();
	},
	setup: function(editor) {
		editor.on('keyup', function(e) {
			var wordcount = tinymce.activeEditor.plugins.wordcount;
			var words = wordcount.body.getCharacterCount();
			var rem = document.getElementById('postRemainingNeoblog');
			if(rem) {
				rem.innerHTML = words;
			}
			if(words > 0) {
				document.getElementById('neoblog-button-add-draft').removeAttribute('disabled');
			} else {
				document.getElementById('neoblog-button-add-draft').setAttribute('disabled','disabled');
			}
			if(words > 125) {
				document.getElementById('neoblog-button-add').removeAttribute('disabled');
			} else {
				document.getElementById('neoblog-button-add').setAttribute('disabled','disabled');
			}
		});
	}
});
tinymce.init({
	selector: '.tinymce-inline',
	menubar: false,
	placeholder: 'Answer here',
	statusbar: false,
	min_height: 100,
	plugins: plugins,
	toolbar: toolbar,
	content_style: 'img { max-width: 100%; width: auto; height: auto }', // update agustus 2021
	setup: function(editor) {
		editor.on('keyup', function(e) {
			var wordcount = tinymce.activeEditor.plugins.wordcount;
			var words = wordcount.body.getCharacterCount();
			var parent = document.getElementById(editor.id).closest('.post-inline')
			if(words > 0) {
				parent.querySelector('.inline-button-draft').removeAttribute('disabled');
			} else {
				parent.querySelector('.inline-button-draft').setAttribute('disabled','disabled');
			}
			if(words > 50) {
				parent.querySelector('.inline-button-post').removeAttribute('disabled');
			} else {
				parent.querySelector('.inline-button-post').setAttribute('disabled','disabled');
			}
			
		});
	}
});

// modal
$('#modalNeoblogAdd').on('show.bs.modal', function () {
	$('#modalNavAdd').modal('hide');
});
$('#modalNeoblogAdd').on('shown.bs.modal', function () {
	$(document).off('focusin.modal');
	tinymce.get('neoblog-textarea-add').focus();
});
$('#modalQnaAdd').on('show.bs.modal', function () {
	$('#modalNavAdd').modal('hide');
});
// show modal login to limit content | update agustus 2021
$(document).on('click','.button-limit', function (e) {
	e.preventDefault();
	$('#modalLogin').find('.modal-content').before('<div class="modal-limit-info">Sign in to continue</div>')
	$('#modalLogin').addClass('modal-limit');
	$('#modalLogin').modal('show');
});
$('#modalLogin').on('hidden.bs.modal', function () {
	if($(this).hasClass('modal-limit')) {
		$(this).removeClass('modal-limit');
		$(this).find('.modal-limit-info').remove();
	}
});
  
// mention 
var tribute = new Tribute({
  values: [
    { key: "Chris Wibisana", value: "@Chris Wibisana" },
    { key: "Vika Dyahsasanti", value: "@Vika Dyahsasanti" },
    { key: "Didik Wicaksono", value: "@Didik Wicaksono" },
    { key: "Noorchamid Ustadi", value: "@Noorchamid Ustadi" },
    { key: "Ahmed Djaelani", value: "@Ahmed Djaelani" },
    { key: "Dr. Alue Dohong", value: "@Dr. Alue Dohong" },
    { key: "Mochammad Toha", value: "@Mochammad Toha" },
    { key: "Kiki Rahmadhani", value: "@Kiki Rahmadhani" },
    { key: "Dr. Yansen Tipa Padan", value: "@Dr. Yansen Tipa Padan" },
    { key: "Annisa Syaidar", value: "@Annisa Syaidar" },
    { key: "Prof. Masri Sareb", value: "@Prof. Masri Sareb" },
    { key: "Budi Wonderkids", value: "@Budi Wonderkids" },
    { key: "Andreas Marbun", value: "@Andreas Marbun" },
    { key: "Bana Elvianto", value: "@Bana Elvianto" },
    { key: "Chelsea Olivia", value: "@Chelsea Olivia" },
  ],
    selectTemplate: function(item) {
    return (
      '<span class="at" contenteditable="false">' + item.original.value + '</span>'
    );
  }
});
// attach element
tribute.attach(document.querySelectorAll(".js-mentionable"));

// copy to textarea
let textareaContent = document.getElementById('qna-textarea-add');
let editableContent = document.getElementById('qna-contenteditable-add');
if(!!editableContent) {
	editableContent.addEventListener('click', function(e){
		// add ? marks
		if(editableContent.innerHTML == 0) {
			insertTextAtCaret('?');
		}
	});
	editableContent.addEventListener('input', function(e){
		if(!!textareaContent) {
			textareaContent.value = editableContent.innerHTML;
		}
	});
}

function insertTextAtCaret(text) {
    let selection = window.getSelection();
    let range = selection.getRangeAt(0);
    range.deleteContents();
    let node = document.createTextNode(text);
    range.insertNode(node);

    for(let position = 0; position != text.length; position++)
    {
        selection.modify("move", "left", "character");
    };
}

</script>
</body>
</html>
